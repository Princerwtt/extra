"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9487],{743033:function(e,t,n){var r=n(487462),a=n(145987),c=n(667294),o=n(769638),i=n(294184),l=n.n(i),u=["in","className"],s=c.memo((function(e){var t=e.in,n=e.className,i=(0,a.Z)(e,u);return c.createElement(o.Z,(0,r.Z)({appear:!1},i,{in:t,className:l()(n,{"pointer-events-none":!t})}))}));t.Z=s},241396:function(e,t,n){var r=n(667294),a=n(30509),c=(n(544504),n(471949)),o=n(774756),i=r.memo((function(e){var t=e.title,n=e.onDismiss,i=e.dismissEvent,l=e.className,u=e.dismissOnOutsideClick,s=e.children,f=(0,r.useRef)(null),p=(0,o.U)((function(){u&&n&&n()}),[u,n]);return(0,c.t)(f,p),r.createElement("div",{ref:f,className:"d-flex flex-column PopoverInner ".concat(l||"")},r.createElement("div",{className:"d-flex justify-content-between align-items-center pl-3 pr-2 py-2"},r.createElement("span",{className:"font-weight-bold mr-4"},t),n&&r.createElement(a.Z,{onClick:n,clickEvent:i})),r.createElement("div",{className:"PopoverInner__body px-3"},s))}));t.Z=i},48048:function(e,t,n){var r=n(487462),a=n(145987),c=n(667294),o=n(380955),i=n(762902),l=n(821835),u=n(774756),s=["canOpen","dismissedKey"];function f(e){var t=e.canOpen,n=e.dismissedKey,o=(0,a.Z)(e,s),f=(0,l.Fe)(),p=f.data,m=f.setValue,d=t&&!p[n],v=(0,u.U)((function(){m(n,!0)}),[m,n]);return c.createElement(i.Z,(0,r.Z)({},o,{isOpen:d,toggle:v,isAutomaticallyTriggered:!0}))}f.displayName="SessionFeatureTooltip",f=(0,o.Pi)(f),t.Z=f},733612:function(e,t,n){var r=n(487462),a=n(193324),c=n(204942),o=n(667294),i=n(686704),l=n(465497),u=n(698227),s=n(294184),f=n.n(s),p=n(368055),m=n(441145),d=n(505289),v=n(996684),h=n(546922),g=n(472327),y=n(925596),b=n(14019),Z=n(55977),k=(n(662900),n(416645)),P=n(687167),E=n(774756),O=n(916746),w=n(825615);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=N(N({},g.F),{},{preventOverflow:{boundariesElement:"viewport"}}),S=o.memo((function(e){var t=e.label,n=e.clickAction,c=e.loading,s=e.icon,g=e.selectedIcon,x=e.onEnterFreeformOption,S=e.freeformOption,_=e.options,R=e.className,j=e.toggleClassName,I=e.positionFixed,L=e.isMenuOpen,D=e.onIsMenuOpenChange,M=e.menuOpenEvent,T=e.menuOpenEventProperties,B=(0,P.OT)(L,D),U=(0,o.useState)(!1),A=(0,a.Z)(U,2),z=A[0],F=A[1],H=(0,o.useRef)(null),K=(0,o.useMemo)((function(){return _.some((function(e){return e.selected}))}),[_]),V=(0,o.useMemo)((function(){return c?o.createElement(y.Z,{size:"xs"}):K?g&&o.createElement(v.Z,{icon:g}):s&&o.createElement(v.Z,{icon:s})}),[K,s,c,g]),G=(0,o.useMemo)((function(){return o.createElement("div",{className:"d-flex align-items-center"},V&&o.createElement("span",{className:"mr-2"},V),t)}),[V,t]),W=(0,E.U)((function(){F(!0),setTimeout((function(){H.current&&H.current.focus()}),0)}),[]),X=(0,E.U)((function(e){if("Enter"===e.key){if(e.preventDefault(),H.current){H.current.blur();var t=H.current.value;t&&x&&x(t)}D(!1),F(!1)}}),[x,D]),Y=(0,o.useMemo)((function(){return S?o.createElement("div",{className:"SplitDropdown__freeformContainer d-flex align-items-center position-relative flex-grow-1"},S.icon&&o.createElement(v.Z,(0,r.Z)({icon:S.icon,fixedWidth:!0,className:"mr-2",color:k.u},S.iconProps)),z?o.createElement(b.Z,{innerRef:H,className:"SplitDropdown__freeformInput",placeholder:S.label,onKeyPress:X}):o.createElement("span",{className:"mr-5"},S.label)):null}),[z,S,X]),q=(0,o.useCallback)((function(e){return o.createElement("div",{className:"d-flex align-items-center position-relative flex-grow-1"},e.icon&&o.createElement(v.Z,(0,r.Z)({icon:e.icon,fixedWidth:!0,className:"mr-2"},e.iconProps)),o.createElement("span",{className:"SplitDropdown__optionLabel text-ellipsis mr-5"},e.label),e.rightLabel&&o.createElement("span",{className:"SplitDropdown__optionLabel text-ellipsis pl-2 ml-auto text-muted"},e.rightLabel),e.selected&&o.createElement(v.Z,{icon:p.LE,size:"sm",className:"SplitDropdown__check"}))}),[]),J=e.size||Z.q.md,Q=e.color||"dark",$=(0,O.K)(w.L9);return _.length||S?o.createElement(i.Z,{direction:"down",isOpen:L,toggle:B,className:"SplitDropdown__".concat(J," d-inline-block ").concat(R||"")},o.createElement("div",{className:"d-flex"},o.createElement(l.Z,{className:"p-0 m-0 border-0"}),o.createElement(h.ZP,(0,r.Z)({color:Q,label:G,className:f()(j,{"pl-2":c}),unroundSides:"right"},function(e){if(!e)return{onClick:void 0,clickEvent:null};var t=e.event,n=e.eventProperties,r={clickEvent:t,eventProperties:n};if("onClick"in e)return N(N({},r),{},{onClick:e.onClick});var a=e.href,c=e.target;return N(N({},r),{},{to:a,target:c})}(n),{size:J})),o.createElement("div",{className:"d-flex py-1 SplitDropdownToggleDivider__".concat(Q)},o.createElement("div",{className:"d-flex py-1 SplitDropdownToggleLine__".concat(Q)})),o.createElement(h.ZP,{color:Q,faIcon:m.pt,faIconProps:{color:"brand"===Q?k.ix:k.RA},onClick:B,clickEvent:M||null,eventProperties:T,size:J,unroundSides:"left"})),o.createElement(d.Z,{modifiers:C,positionFixed:I,container:"body"},_.map((function(e,t){var n;return o.createElement(u.Z,(0,r.Z)({key:null!==(n=e.key)&&void 0!==n?n:t,className:f()("SplitDropdown__option px-3",{SplitDropdown__defaultOption:"gray"===e.background})},function(e,t){var n=e.event,r=e.eventProperties;return"onClick"in e?{onClick:function(){e.onClick(),n&&(0,w.L9)(n,r)}}:{href:e.href,target:e.target,tag:"a",onClick:n?t(n,r):void 0}}(e.action,$)),q(e))})),S&&o.createElement(u.Z,{className:f()("SplitDropdown__freeformOption px-3",{SplitDropdown__defaultOption:"gray"===S.background}),onClick:W,toggle:!1},Y))):null}));t.Z=S},154886:function(e,t,n){var r=n(789062),a=n(667294),c=n(357267),o=n(546922),i=n(177654),l=n(950250),u=n(818455),s=n(916746),f=n(668774),p=n(62069),m=n(774756),d=(n(384444),n(192580)),v=n(804732),h=a.memo((function(e){var t=e.sections,n=e.checkedSectionIds,h=e.onCheckedSectionIdsChange,g=e.alwaysShowRouteLines,y=e.onAlwaysShowRouteLinesToggle,b=(0,p.bE)(),Z=(0,a.useMemo)((function(){return(0,f.Eh)(t,i.a1,b)}),[t,b]),k=(0,m.U)((function(){return h((0,i.ZZ)(t))}),[t,h]),P=(0,m.U)((function(){return h([])}),[h]),E=(0,m.U)((function(e){var t=n.includes(e);h(t?n.filter((function(t){return t!==e})):[].concat((0,r.Z)(n),[e]))}),[n,h]),O=(0,s.K)(E);return a.createElement(a.Fragment,null,a.createElement("div",{className:"d-flex align-items-center my-0"},a.createElement(o.ZP,{label:"Select all",layout:"inline",color:"flat-primary",className:"MapLayersList__buttonText font-weight-bold pl-0 pr-2 py-1",onClick:k,clickEvent:l.j.selectAllSections,disabled:n.length===t.length}),a.createElement("span",{className:"MapLayersList__separator"},"â€¢"),a.createElement(o.ZP,{label:"Deselect all",layout:"inline",color:"flat-primary",className:"MapLayersList__buttonText font-weight-bold pl-2 pr-0 py-1",onClick:P,clickEvent:l.j.deselectAllSections,disabled:0===n.length})),Z.map((function(e){var t=e.heading,r=e.sections;return r.length>0&&a.createElement("div",{key:t},a.createElement("hr",{className:"MapLayersList__horizontalLine mt-0 w-100 mb-3"}),a.createElement("div",{className:"d-flex justify-content-between align-items-center"},a.createElement("span",{className:"MapLayersList__heading font-weight-bold"},t),t===u.L.itinerary&&y&&a.createElement(v.Z,{directions:"vertical"},a.createElement(o.ZP,{faIcon:c.Fp,faIconProps:{size:void 0},label:g?"Hide route lines":"Always show route lines",layout:"inline",color:"flat-primary",className:"MapLayersList__buttonText font-weight-bold px-0 ml-3",labelTextClassName:"ml-1",onClick:y,clickEvent:l.j.toggleMapRouteLines}))),r.map((function(e){return a.createElement(d.Z,{key:e.id,section:e,isChecked:n.includes(e.id),onIsCheckedChange:O(e.id)})})))})))}));t.Z=h},127059:function(e,t,n){var r=n(487462),a=n(667294),c=n(996684),o=n(413260),i=(n(287313),n(534376)),l=n(774756),u=a.memo((function(e){var t=e.iconProps,n=e.text,u=e.action,s=(0,l.U)((function(){"checkbox"===u.type?u.checkbox.onChange(!u.checkbox.checked):u.onClick()}),[u]);return a.createElement(i.Z,{className:"MapLayersListRow d-flex justify-content-between align-items-center",onClick:s,clickEvent:"button"===u.type?u.clickEvent:null},a.createElement("div",{className:"d-flex align-items-center minw-0"},a.createElement("div",{className:"MapLayersListRow__icon"},a.createElement(c.Z,(0,r.Z)({size:"lg"},t))),a.createElement("div",{className:"ml-2 text-truncate"},n)),"checkbox"===u.type&&a.createElement(o.Z,(0,r.Z)({className:"ml-2",size:"lg"},u.checkbox)))}));t.Z=u},192580:function(e,t,n){var r=n(667294),a=n(842494),c=n(862563),o=n(597894),i=n(127059),l=r.memo((function(e){var t=e.section,n=e.isChecked,l=e.onIsCheckedChange,u=(0,o.dr)().datePreference;return r.createElement(i.Z,{iconProps:(0,r.useMemo)((function(){return{icon:a.FG,color:t.placeMarkerColor}}),[t.placeMarkerColor]),text:(0,c.eN)(t,{dateFormat:c.fh.shortNumericMonth,datePreference:u,fillUntitled:!0,preferShorterNavigationLabel:!0}),action:(0,r.useMemo)((function(){return{type:"checkbox",checkbox:{checked:n,onChange:l}}}),[n,l])})}));t.Z=l},789124:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(667294),a=n(774756),c=n(304678),o=n(177654),i=n(130941);function l(e,t){var n,l=(0,i.x)(t),u=l.tripPlanSettings,s=l.setTripPlanSettings;return function(e,t){var n=t.hiddenSectionIds,i=t.setHiddenSectionIds,l=(0,c.uX)((function(){return(0,o.zl)(e,n)}),[n,e]),u=(0,r.useMemo)((function(){return(0,o.PF)(e,n)}),[n,e]),s=(0,a.U)((function(t){i((0,o.UZ)(e,t))}),[e,i]);return{hiddenSectionIds:n,checkedSectionIds:l,indicatorCount:u,onCheckedSectionIdsChange:s}}(e,{hiddenSectionIds:null!==(n=u.hiddenOverlaySectionIds)&&void 0!==n?n:[],setHiddenSectionIds:(0,a.U)((function(e){s({hiddenOverlaySectionIds:e})}),[s])})}},381846:function(e,t,n){n.d(t,{H:function(){return d}});var r=n(487462),a=n(145987),c=n(193324),o=n(667294),i=n(216505),l=n(845594),u=n(687167),s=n(304678),f=n(862563),p=["type"],m=o.memo((function(e){var t=e.marker,n=e.imageKey,s=e.text,f=e.metadata,m=e.sectionNames,d=e.onClose,v=e.saveButton,h=e.placeDetails,g=(0,o.useState)(!1),y=(0,c.Z)(g,2),b=y[0],Z=y[1],k=(0,u.OT)(b,Z),P=(0,o.useMemo)((function(){var e={onToggleSavePlace:null,isSaved:null,isSaveButtonLoading:null};if(v&&"saveButton"===v.type){v.type;e=(0,a.Z)(v,p)}return e}),[v]);return b?o.createElement(l.Z,(0,r.Z)({},e,{onClose:k})):o.createElement(i.Z,(0,r.Z)({marker:t,imageKey:n,placeText:s,placeName:(null==h?void 0:h.name)||"",placeMetadata:f,sectionName:m[0]||null,onClick:k,onClose:d},P))}));function d(e){var t=e.selectedItem,n=e.placeSections,r=e.datePreference,a=e.placeMetadata,c=(0,s.uX)((function(){if(!t)return null;var e="blockId"in t?t.blockId:null;return e?n.filter((function(t){return t.blocks.some((function(t){return t.id===e}))})).map((function(e){return(0,f.eN)(e,{datePreference:r})})):null}),[n,t,r]);if(t&&t.isPlace){var o=a[t.googlePlaceId]||null,i=(null==o?void 0:o.imageKeys)||[];return{marker:t.marker,omitLabel:!!t.omitLabel,placeDetails:t.googlePlace||null,metadata:o,sectionNames:c||[],imageKey:i[0]||null,defaultOpeningHoursDate:"sectionDate"in t?t.sectionDate:null,selectedPlace:t}}return null}t.Z=m},845594:function(e,t,n){var r=n(789062),a=n(193324),c=n(667294),o=n(759545),i=n(63449),l=n(294184),u=n.n(l),s=n(803336),f=n(546922),p=n(707402),m=n(655179),d=n(414070),v=n(774756),h=(n(521104),n(403887)),g=n(630897),y=n(60927),b=n(433109),Z=n(687167),k=n(821830),P=c.memo((function(e){var t=e.id,n=e.marker,l=e.placeDetails,P=e.text,O=e.metadata,w=e.onClose,x=e.topChildren,N=e.onPlacesListClick,C=e.omitLabel,S=e.defaultOpeningHoursDate,_=e.componentsToHide,R=e.onHeightChange,j=e.fullWidth,I=e.imageKey,L=(0,c.useState)(!1),D=(0,a.Z)(L,2),M=D[0],T=D[1],B=(0,Z.vA)(T,!0),U=(0,Z.vA)(T,!1),A=(0,c.useState)(l),z=(0,a.Z)(A,2),F=z[0],H=z[1];(0,c.useEffect)((function(){l&&l!==F&&H(l)}),[F,l]);var K=!l,V=K?F:l,G=(null==O?void 0:O.name)||(null==V?void 0:V.name)||"",W=(0,v.U)((function(e,t){t&&R&&R(t)}),[R]),X=null!=_&&_.includes("description")?null:(null==O?void 0:O.description)||null,Y=null!=P&&P.ops&&!(0,m.xb)(P)?P.ops:null,q=null,J=!1;Y?q=c.createElement(y.Z,{ops:Y}):X&&(q=c.createElement("span",null,X),J=!0);var Q=(0,c.useMemo)((function(){return J?[].concat((0,r.Z)(_||[]),["description"]):_}),[J,_]),$=(0,c.useMemo)((function(){return((null==O?void 0:O.imageKeys)||[]).map((function(e){return{caption:null,src:(0,h.iO)({key:e,size:"medium"})}}))}),[O]);return c.createElement(c.Fragment,null,c.createElement(i.ZP,{handleWidth:!1,handleHeight:!0,onResize:W},(function(e){var r=e.targetRef;return c.createElement("div",{ref:r,className:u()("PlanMapPlaceCard d-flex flex-column minh-0 position-relative",j&&"w-100"),id:t},w&&c.createElement(f.ZP,{faIcon:o.NB,onClick:w,clickEvent:null,color:"translucent-black",className:E}),c.createElement("div",{className:u()("PlanMapPlaceCard__body flex-grow-1 flex-shrink-1 overflow-auto p-3",K&&"PlanMapPlaceCard__bodyLoading")},c.createElement(g.ZP,null,I&&c.createElement(k.Z,{aspectRatio:null,onClick:B,clickEvent:null,src:(0,h.iO)({key:I,size:"80"}),buttonClassName:"PlanMapPlaceCard__photo",className:u()("float-right ml-2",!q&&"mb-n4"),rounded:!0}),c.createElement(p.Z,{marker:n,omitLabel:C,placeName:G}),q&&c.createElement("div",{className:"pt-2"},q)),V&&c.createElement("div",{className:"pt-3"},c.createElement(s.ZP,{place:V,metadata:O,onPlacesListClick:N,defaultOpeningHoursDate:S,componentsToHide:Q,topChildren:x})),K&&c.createElement("div",{className:"PlanMapPlaceCard__loading"},c.createElement(d.Z,null))))})),c.createElement(b.Z,{isOpen:M,onClose:U,views:$,initialViewIndex:0}))})),E="PlanMapPlaceCard__dismissButton";t.Z=P},707402:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(215671),a=n(143144),c=n(360136),o=n(182963),i=n(661120),l=n(667294),u=n(941086);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var f=function(e){(0,c.Z)(n,e);var t=s(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.marker,n=e.omitLabel,r=e.placeName;return l.createElement("div",{className:"d-flex align-items-center flex-grow-1"},l.createElement(u.Z,{marker:t,omitLabel:n}),l.createElement("div",{className:"ml-2"},l.createElement("strong",null,r)))}}]),n}(l.PureComponent);f.displayName="SelectedMarkerAndPlaceName"},941086:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(215671),a=n(143144),c=n(360136),o=n(182963),i=n(661120),l=n(667294),u=n(462435),s=n(621541);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var p=function(e){(0,c.Z)(n,e);var t=f(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.marker,n=e.omitLabel,r=t.icon,a=t.index,c=t.markerColor;return l.createElement(u.Z,{label:null==a||n?null:(0,s.z)(a),color:c,size:1.5,icon:r||void 0})}}]),n}(l.PureComponent);p.displayName="SelectedPlaceMarker"},216505:function(e,t,n){n.d(t,{F:function(){return P},Z:function(){return E}});var r=n(215671),a=n(143144),c=n(360136),o=n(182963),i=n(661120),l=n(667294),u=n(612690),s=n(759545),f=n(562679),p=n(661493),m=n(655179),d=n(291843),v=n(403887),h=n(60927),g=n(546922),y=n(996684),b=n(707402),Z=n(950250);n(657911);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var P=150,E=function(e){(0,c.Z)(n,e);var t=k(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleToggleSavePlace=function(t){var n=e.props.onToggleSavePlace;t&&t.stopPropagation(),n&&n()},e}return(0,a.Z)(n,[{key:"renderText",value:function(){var e=this.props,t=e.placeText,n=e.placeMetadata;return t&&!(0,m.xb)(t)?l.createElement(h.Z,{ops:t.ops,isUsingLineClamp:!0,className:"SelectedPlaceButton__text",shouldRenderLists:!1}):n&&n.description?l.createElement("div",{className:"SelectedPlaceButton__text"},n.description):null}},{key:"render",value:function(){var e=this.props,t=e.marker,n=e.imageKey,r=e.placeName,a=e.sectionName,c=e.onClick,o=e.onClose,i=e.onToggleSavePlace,m=e.isSaved,h=e.isSaveButtonLoading,k=this.renderText();return l.createElement("div",{className:"SelectedPlaceButton__container pointer-events-none"},o&&l.createElement("div",{className:"d-flex justify-content-end mb-2 pointer-events-none"},l.createElement(g.ZP,{"aria-label":"Close",color:"translucent-white",faIcon:s.NB,clickEvent:null,onClick:o,className:"pointer-events-auto"})),l.createElement("div",{className:"SelectedPlaceButton p-3 pointer-events-auto",onClick:c},l.createElement("div",{className:"d-flex align-items-stretch"},l.createElement("div",{className:"d-flex flex-column flex-grow-1 mr-auto"},l.createElement("div",{className:"flex-grow-0"},l.createElement(b.Z,{marker:t,placeName:r,omitLabel:!1})),l.createElement("div",{className:"mt-3 mb-auto"},k),l.createElement("div",{className:"text-muted mt-3"},l.createElement(y.Z,{className:"mr-2",icon:f.gf}),a)),l.createElement("div",{className:"d-flex flex-column"},l.createElement("div",{className:"flex-shrink-0 pb-3 mb-auto"},n&&l.createElement(d.Z,{src:(0,v.iO)({key:n,size:"80"}),className:"SelectedPlaceButton__photo ml-2",alt:"Picture of ".concat(r)})),i&&l.createElement(g.ZP,{className:"mb-2",loading:!!h,faIcon:m?u.xV:p.xV,label:m?"Saved":"Save",onClick:this.handleToggleSavePlace,color:m?"light-gray":"dark",clickEvent:m?null:Z.j.addSelectedPlace}),c&&l.createElement(g.ZP,{label:"Details",onClick:c,color:"light-gray",clickEvent:Z.j.expandSelectedPlace})))))}}]),n}(l.PureComponent);E.displayName="SelectedPlaceButton"},906626:function(e,t,n){n.d(t,{k:function(){return o}});var r=n(193324),a=n(63449),c=n(667294);function o(){var e=(0,a.NB)(),t=e.height,n=e.ref,o=(0,c.useState)(400),i=(0,r.Z)(o,2),l=i[0],u=i[1];return(0,c.useEffect)((function(){t&&u((function(e){return Math.min(t/2,e)}))}),[t]),{planMapPlaceCardHeight:l,planMapPlaceCardContainerRef:n,setPlanMapPlaceCardHeight:u}}},535951:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(487462),a=n(145987),c=n(215671),o=n(143144),i=n(360136),l=n(182963),u=n(661120),s=n(667294),f=n(290436),p=n(967498),m=["seconds","done","striped","animated"];function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var v=function(e){(0,i.Z)(n,e);var t=d(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).updateInterval=null,r.fakeProgress=void 0,r.state={percent:e.done?100:0},r}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.fakeProgress=new p.Z({timeMs:1e3*this.props.seconds}),this.updateInterval=setInterval((function(){e.setState({percent:100*e.fakeProgress.getProgress()})}),500)}},{key:"componentWillUnmount",value:function(){null!==this.updateInterval&&clearInterval(this.updateInterval)}},{key:"render",value:function(){var e=this.state.percent,t=this.props,n=(t.seconds,t.done,t.striped),c=t.animated,o=(0,a.Z)(t,m);return s.createElement("div",null,s.createElement(f.Z,(0,r.Z)({},o,{animated:c||!0,striped:n||!0,value:e})))}}]),n}(s.PureComponent);v.displayName="FakeProgressBar"},471949:function(e,t,n){n.d(t,{t:function(){return a}});var r=n(667294);function a(e,t){(0,r.useEffect)((function(){function n(n){e.current&&n.target&&!e.current.contains(n.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[t,e])}},397050:function(e,t,n){n.d(t,{l:function(){return c},x:function(){return a}});var r=n(115861);function a(e,t){}function c(e){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},30130:function(e,t,n){n.d(t,{I:function(){return o}});var r=n(115861),a=n(879628),c=n(321043);function o(e,t){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.V1)({url:"/api/tripPlans/".concat(t,"/settings"),method:"POST",data:{settings:n}});case 2:return r=e.sent,e.abrupt("return",(0,c.Ff)(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},725468:function(e,t,n){function r(e){return"https://www.google.com/maps/placelists/list/".concat(e)}function a(){return"undefined"!=typeof window&&window.__CONFIG__?window.__CONFIG__.googleMapsAPIKey:""}n.d(t,{R:function(){return r},_:function(){return a}})},668774:function(e,t,n){n.d(t,{Eh:function(){return i},u3:function(){return c},zF:function(){return o}});var r=n(188155),a=n(818455);function c(e,t){return e.filter((function(e){return t.has(e.type)}))}function o(e,t,n){return c((0,r.CG)(e,n),t)}function i(e,t,n){return(0,a.ZV)({sections:o(e,t,n),tripPlanType:n})}},177654:function(e,t,n){n.d(t,{PF:function(){return u},UZ:function(){return f},ZZ:function(){return l},a1:function(){return i},zl:function(){return s}});var r=n(291966),a=n.n(r),c=n(4868),o=n(668774),i=new Set([c.bA.normal,c.bA.hotels,c.bA.flights]);function l(e){return(0,o.u3)(e,i).map((function(e){return e.id}))}function u(e,t){var n=l(e).length,r=s(e,t).length;return r<n?r:null}function s(e,t){return a()(l(e),t)}function f(e,t){return a()(l(e),t)}},188155:function(e,t,n){n.d(t,{CG:function(){return U},Fn:function(){return T},H:function(){return B},NP:function(){return S},Yz:function(){return M},bY:function(){return I},gi:function(){return j},m6:function(){return L},rK:function(){return D}});var r=n(204942),a=n(193324),c=n(789062),o=n(145987),i=n(875472),l=n.n(i),u=n(618446),s=n.n(u),f=n(944908),p=n.n(f),m=n(130845),d=n(4868),v=n(925483),h=n(270425),g=n(620083),y=n(374107),b=n(818455),Z=n(878927),k=["blocks"],P=["blocks"],E=["place"],O=["place"],w=["airport"],x=["text","depart","arrive"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){return e.length===t.length&&e.every((function(e,n){return function(e,t){e.blocks;for(var n=(0,o.Z)(e,k),r=(t.blocks,(0,o.Z)(t,P)),a=0,i=p()([].concat((0,c.Z)(Object.keys(n)),(0,c.Z)(Object.keys(r))));a<i.length;a++){var l=i[a];if(n[l]!==r[l])return!1}if(e.blocks.length!==t.blocks.length)return!1;for(var u=0;u!==e.blocks.length;u++){var f=e.blocks[u],m=t.blocks[u];if(f.type!==m.type||f.id!==m.id)return!1;switch(f.type){case g.k.place:if(m.type!==g.k.place)return!1;var d=(0,h.Y9)(f),v=d.place,y=(0,o.Z)(d,E),b=(0,h.Y9)(m),w=b.place,x=(0,o.Z)(b,O);if(v.placeId!==w.placeId)return!1;if(!s()(y,x))return!1;break;case g.k.story:if(m.type!==g.k.story)return!1;var N=f.images.map((function(e){return e.id})),C=m.images.map((function(e){return e.id}));if(!s()(N,C))return!1;break;case g.k.bus:case g.k.train:case g.k.rentalCar:case g.k.flight:case g.k.attachment:case g.k.note:case g.k.checklist:if(!s()(f,m))return!1;break;default:(0,Z.j)(f)}}return!0}(e,t[n])}))}function _(e,t){return S((0,a.Z)(e,1)[0],(0,a.Z)(t,1)[0])}function R(e){var t=(0,m.Z)(e),n=(0,m.Z)((function(e){return e}),_);return function(){return n(t.apply(void 0,arguments))}}function j(){return R((function(e,t){return(0,v.i5)(e,t)}))}function I(){return R((function(e,t,n){var r=(0,v.i5)(e,t);return(0,b.q8)(n)?(0,b.ZV)({sections:r,tripPlanType:n}).flatMap((function(e){return e.sections})):r}))}function L(){return R((function(e,t){return(0,v.MX)(e,t)}))}function D(){function e(e){var t=e.airport,n=(0,o.Z)(e,w);return C({airport:t&&C(C({},t),{},{googlePlace:void 0})},n)}function t(t){t.text;var n=t.depart,r=t.arrive;return C(C({},(0,o.Z)(t,x)),{},{depart:e(n),arrive:e(r)})}return(0,m.Z)((function(e){return e}),(function(e,n){var r=(0,a.Z)(e,1)[0],c=(0,a.Z)(n,1)[0];return s()(r.map(t),c.map(t))}))}function M(){return(0,m.Z)((function(e){return e}),(function(e,t){var n=(0,a.Z)(e,1)[0],r=(0,a.Z)(t,1)[0];function c(e){return{placeId:e.place.place_id,checkIn:e.hotel&&e.hotel.checkIn,checkOut:e.hotel&&e.hotel.checkOut}}return s()(n.map(c),r.map(c))}))}function T(){return(0,m.Z)((function(e){return e}),(function(e,t){var n=(0,a.Z)(e,1)[0],r=(0,a.Z)(t,1)[0];function c(e){var t=e.pickUp,n=e.dropOff;function r(e){return{date:e.date,time:e.time,placeId:e.place.place_id}}return{pickUp:r(t),dropOff:r(n)}}return s()(n.map(c),r.map(c))}))}function B(){return(0,m.Z)((function(e){return e}),(function(e,t){var n=(0,a.Z)(e,1)[0],r=(0,a.Z)(t,1)[0];function c(e){var t=e.depart,n=e.arrive;function r(e){return{date:e.date,time:e.time,placeId:e.place.place_id}}return{pickUp:r(t),dropOff:r(n)}}return s()(n.map(c),r.map(c))}))}function U(e,t){return(0,b.q8)(t)?l()(e,[function(e){return void 0===e.mode||e.mode===d.cd.placeList?0:1},function(e){return e.date?(0,y.iA)(e.date).unix():0}],["asc","asc"]):e}},621466:function(e,t,n){n.d(t,{IR:function(){return O},a5:function(){return x}});var r,a,c=n(204942),o=n(115861),i=n(843269),l=n(215671),u=n(143144),s=n(497326),f=n(360136),p=n(182963),m=n(661120),d=n(753229),v=n(722188),h=n(79068),g=n(787896),y=n(857271),b=n(397050),Z=n(30130);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var a=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}var O=(r=function(e){(0,f.Z)(c,e);var t,n,r=E(c);function c(){var e;(0,l.Z)(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,i.Z)(e,"reloadResources",a,(0,s.Z)(e)),e}return(0,u.Z)(c,[{key:"loadTripPlan",value:(n=(0,o.Z)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadOrLoadCachedOnReactNative(t,(function(){return(0,b.l)(t)}),(function(){return(0,h.h2)(t,{registerView:n.registerView})}),(function(e){return(0,b.x)(t,e)}),n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"setTripPlanSettings",value:(t=(0,o.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.data){e.next=2;break}return e.abrupt("return");case 2:return n=P(P({},this.store.data.settings),t),this.store.data=P(P({},this.store.data),{},{settings:n}),e.next=6,(0,Z.I)(this.store.data.tripPlan.key,n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),c}(y.Z),a=(0,d.Z)(r.prototype,"reloadResources",[v.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function t(){var n,r,a,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.store.data){t.next=3;break}return t.abrupt("return");case 3:return r=n.tripPlan.key,t.next=6,(0,h.h2)(r,{registerView:!0});case 6:a=t.sent,c=a.resources,o=a.guideResources,e.store.data=P(P({},n),{},{resources:c,guideResources:o});case 10:case"end":return t.stop()}}),t)})))}}),(0,d.Z)(r.prototype,"loadTripPlan",[v.aD],Object.getOwnPropertyDescriptor(r.prototype,"loadTripPlan"),r.prototype),(0,d.Z)(r.prototype,"setTripPlanSettings",[v.aD],Object.getOwnPropertyDescriptor(r.prototype,"setTripPlanSettings"),r.prototype),r),w=(0,g.m)("tripPlanStore",O),x=(w.withStore,w.useStore)},565738:function(e,t,n){n.d(t,{Nr:function(){return o},UU:function(){return i}});var r=n(789062),a=n(667294),c=n(774756);function o(e,t){return i(e,t).debouncedCallback}function i(e,t){return l(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}),t)}function l(e,t,n){var o=(0,a.useRef)((function(){})),i=(0,a.useRef)(null);(0,a.useEffect)((function(){o.current=e}),[e]);var l=(0,c.U)((function(){i.current&&(clearTimeout(i.current),i.current=null)}),[]);return{debouncedCallback:(0,c.U)((function(){l();var e=t.apply(void 0,arguments);null!=n&&(i.current=setTimeout((function(){i.current=null,o.current.apply(o,(0,r.Z)(e))}),n))}),[l,n,t]),cancelDebouncedCallback:l}}},130941:function(e,t,n){n.d(t,{x:function(){return p}});var r=n(204942),a=n(193324),c=n(667294),o=n(621466),i=n(279715),l=n(774756),u=n(604222);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=(0,o.a5)(),n=t.key,r=t.data,s=t.setTripPlanSettings,p=(0,i.n9)(),m=(0,c.useState)({}),d=(0,a.Z)(m,2),v=d[0],h=d[1],g=(0,c.useRef)(null),y=(0,c.useMemo)((function(){return e?n===e?r&&r.settings?(g.current&&clearTimeout(g.current),r.settings):{}:(0,u.yv)()?{}:p?v:(g.current=setTimeout((function(){throw new Error("useTripPlanSettingsStore called without a currently-open trip plan or with a mismatched trip plan: TripPlanStore has ".concat(n," vs. expected ").concat(e))}),5e3),{}):{}}),[p,r,n,v,e]),b=(0,l.U)((function(e){p?h((function(t){return f(f({},t),e)})):s(f(f({},y),e))}),[p,s,y]);return{tripPlanSettings:y,setTripPlanSettings:b}}},403287:function(e,t,n){n.d(t,{NX:function(){return v},SH:function(){return f},lS:function(){return s},u1:function(){return p}});var r=n(667294),a=n(898784),c=n(31239),o=n(875711),i=(0,a.J)({itineraryOptions:null,onItineraryOptionsChange:null},{name:"ItineraryOptionsContext"}),l=i.ContextProvider,u=i.Context;function s(){var e=(0,r.useContext)(u),t=e.itineraryOptions,n=e.onItineraryOptionsChange,a="ItineraryOptionsProvider";return{itineraryOptions:(0,c.w)(t,null,a),onItineraryOptionsChange:(0,c.w)(n,null,a)}}var f=r.memo((function(e){return r.createElement(l,e)})),p=r.memo((function(e){var t=e.children;return r.createElement(f,{itineraryOptions:m,onItineraryOptionsChange:d},t)})),m={};function d(){}var v=(0,o.y)(s)},384444:function(){},287313:function(){},521104:function(){},544504:function(){},657911:function(){},662900:function(){}}]);