"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5626],{378720:function(e,t,n){var o=n(193324),i=n(667294),r=n(623820),a=n(386024),l=n(687167),u=n(705892),c=n(808923),d=n(752120),s=i.memo((function(e){var t=e.label,n=e.place,s=e.onClick,m=e.markerIcon,f=e.deemphasize,p=e.isSelected,h=e.enlargeSelectedMarker,g=e.sectionIndex,v=e.index,k=e.zIndex,M=e.markerColor,b=n.name,x=n.latitude,y=n.longitude,I="medium";p&&h?I="large":f&&(I="small",M=r.l);var C=(0,a.Fk)(I,m).height,w=-C/2,Z=(0,i.useState)(!1),E=(0,o.Z)(Z,2),z=E[0],P=E[1],S=(0,l.vA)(P,!0),O=(0,l.vA)(P,!1),L=(0,r.K)(M,{isMouseOver:z,isSelected:p}),T=(0,c.ep)({zIndex:k,index:v,sectionIndex:g,isSelected:p,latitude:n.latitude});return i.createElement(i.Fragment,null,i.createElement(d.Z,{longitude:y,latitude:x,offset:(0,i.useMemo)((function(){return[0,w]}),[w]),style:(0,i.useMemo)((function(){return{zIndex:T}}),[T])},i.createElement(a.ZP,{label:f&&!p?null:t,size:I,icon:f&&!p?null:m,color:L,onMouseEnter:S,onMouseLeave:O,onClick:s})),z&&i.createElement(u.Z,{longitude:y,latitude:x,offsetTop:-C},b))}));t.Z=s},465109:function(e,t,n){var o=n(193324),i=n(667294),r=n(119547),a=n(705892),l=n(752120),u=n(74619),c=i.memo((function(e){var t=e.place,n=e.onClick,c=e.isSelected,m=e.isChecked,f=e.selectedCardPosition,p=e.zIndex,h=Math.floor(1e4*Math.random()),g=t.latitude,v=t.longitude,k=(0,i.useState)(!1),M=(0,o.Z)(k,2),b=M[0],x=M[1];return i.createElement(i.Fragment,null,i.createElement(l.Z,{longitude:v,latitude:g,offset:s,style:{zIndex:c?10001:p||h}},i.createElement("div",{className:"position-relative pointer-events-none"},i.createElement("div",{className:"position-absolute pointer-events-none"},i.createElement(r.ZP,{place:t,onClick:n,isChecked:m,selectedCardPosition:f,isSelected:c,onHoverChange:x})))),b&&!c&&i.createElement(a.Z,{longitude:v,latitude:g,offsetTop:d},t.name," (",t.offer.lodging.rating?(0,u.k$)(t.offer.lodging.rating).toFixed(1):null,")"))})),d=-r.ZM/2,s=[-r.Bb/2,d];t.Z=c},285614:function(e,t,n){function o(e){var t=e.markerIndexes,n=e.otherMarkerIndexes;return t.placeIndex===(null==n?void 0:n.placeIndex)&&t.listIndex===n.listIndex}n.d(t,{T:function(){return o}})},675626:function(e,t,n){var o=n(193324),i=n(204942),r=n(487462),a=n(618446),l=n.n(a),u=n(359704),c=n.n(u),d=n(667294),s=n(124613),m=n.n(s),f=n(384235),p=n(63449),h=n(14238),g=n(597464),v=n(378720),k=n(621541),M=n(737168),b=n(916746),x=n(56070),y=n(504019),I=n(53472),C=n(491070),w=n(877588),Z=n(157754),E=n(623995),z=n(531232),P=n(774756),S=(n(88870),n(878927)),O=n(465109),L=n(285614),T=n(832631),B=n(597894),D=n(810903);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=d.memo((function(e){var t,n=e.markerLists,i=e.selectedMarkerIndexes,a=e.checkedMarkerIndexes,u=e.height,s=e.fitMarkersOnMount,N=e.edgeInsets,j=e.panInsets,K=e.onMarkerClick,$=e.explicitPolyline,Q=e.overlays,J=e.panToNewPlace,X=e.defaultBounds,q=e.defaultCenter,Y=e.defaultZoom,ee=e.onBoundsChanged,te=e.onNonMarkerClick,ne=e.onDragStart,oe=e.onDragEnd,ie=e.onTilesLoaded,re=e.mapRef,ae=e.children,le=e.excludeDeemphasized,ue=e.boundsChangeMultiplier,ce=e.gestureHandling,de=!1!==e.showFitButtons,se=(0,d.useRef)(null),me=function(e,t,n){var i=n.defaultBounds,r=n.edgeInsets,a=void 0===r?null:r,l=n.panInsets,u=n.defaultCenter,c=n.defaultZoom,s=n.excludeDeemphasized,m=n.boundsChangeMultiplier,p=!1!==n.fitMarkersOnMount,h=(0,d.useMemo)((function(){var e,t,n,o,i,r,u,c;return{top:(null!==(e=null==a?void 0:a.top)&&void 0!==e?e:0)+(null!==(t=null==l?void 0:l.top)&&void 0!==t?t:0),bottom:(null!==(n=null==a?void 0:a.bottom)&&void 0!==n?n:0)+(null!==(o=null==l?void 0:l.bottom)&&void 0!==o?o:0),left:(null!==(i=null==a?void 0:a.left)&&void 0!==i?i:0)+(null!==(r=null==l?void 0:l.left)&&void 0!==r?r:0),right:(null!==(u=null==a?void 0:a.right)&&void 0!==u?u:0)+(null!==(c=null==l?void 0:l.right)&&void 0!==c?c:0)}}),[null==a?void 0:a.bottom,null==a?void 0:a.left,null==a?void 0:a.right,null==a?void 0:a.top,null==l?void 0:l.bottom,null==l?void 0:l.left,null==l?void 0:l.right,null==l?void 0:l.top]),v=(0,d.useMemo)((function(){return T.V}),[]),k=(0,g.AW)(t,{excludeDeemphasized:s});p&&k.length>=1?v=(0,z.e4)({bounds:(0,z.zX)(k),minWidth:.01,minHeight:.01}):i?v=i:u&&(v=F(new f.ZP(_(_(_({},G),n.defaultCenter),{},{zoom:c||11})).getBounds()));var M=U({bounds:v,mapDimensions:null,panMargins:null,boundsChangeMultiplier:m}),b=(0,d.useState)(M),x=(0,o.Z)(b,2),y=x[0],I=x[1],C=(0,d.useState)(null),w=(0,o.Z)(C,2),E=w[0],P=w[1],O=(0,d.useRef)(!1),L=(0,d.useCallback)((function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0,i=e.current;if(i){var r=U({bounds:t,mapDimensions:o||E,panMargins:h,boundsChangeMultiplier:m}),a=n?{animate:!0,duration:200}:{};i.flyTo(_({center:R(r),zoom:r.zoom},a))}}),[e,E,h,m]),B=(0,d.useCallback)((function(e){var t=e.viewState,n=e.target.getContainer(),o=n.clientWidth,i=n.clientHeight;o&&i&&(O.current?I(t):(O.current=!0,I(t),setTimeout((function(){I((function(e){return _(_({},e),U({bounds:v,mapDimensions:{width:o,height:i},panMargins:null,boundsChangeMultiplier:m}))}))}),0)),E&&E.width===o&&E.height===i||P({width:o,height:i}))}),[v,E,m]),D=(0,d.useCallback)((function(t,n){var o=n.magnification,i=n.animation,r=e.current;if(r){var a=E||G,l=V(h,a),u={width:a.width-l.left-l.right,height:a.height-l.top-l.bottom},c=y.zoom+(o?Math.log2(o):0),d=F(new f.ZP(_(_(_({},u),t),{},{zoom:c})).getBounds()),s=(0,Z.pZ)({bounds:d,mapSize:a,mapPadding:l}),m=(0,z.qg)(s);switch(i){case"pan":r.easeTo({center:R(m),zoom:c,duration:200,animate:!0});break;case"fly":r.flyTo({center:R(m),zoom:c,duration:500,animate:!0});break;default:throw(0,S.j)(i)}}}),[E,e,h,y.zoom]),N=(0,d.useCallback)((function(e,t){D(e,{magnification:t,animation:"pan"})}),[D]),j=(0,d.useCallback)((function(e,t){D(e,{magnification:t,animation:"fly"})}),[D]);return{viewport:y,onViewportChange:B,panTo:N,flyTo:j,fitBounds:L}}(se,n,{fitMarkersOnMount:s,edgeInsets:N,panInsets:j,defaultBounds:X,defaultCenter:q,defaultZoom:Y,excludeDeemphasized:null==le||le,boundsChangeMultiplier:null!=ue?ue:1.5}),fe=me.viewport,pe=me.onViewportChange,he=me.panTo,ge=me.flyTo,ve=me.fitBounds;(0,d.useImperativeHandle)(re,(function(){return{panToPlace:he,fitBounds:ve}}),[he,ve]);var ke=null===(t=e.enlargeSelectedMarker)||void 0===t||t,Me=(0,P.U)((function(e){K(e)}),[K]),be=(0,d.useRef)({markerLists:n,panToNewPlace:J,panToNewSelectedPlace:!0,selectedMarkerIndexes:i});(0,d.useEffect)((function(){var e={markerLists:n,panToNewPlace:J,panToNewSelectedPlace:!0,selectedMarkerIndexes:i};(0,w.zm)(e,be.current,he),be.current=e}),[n,he,J,i]);var xe=(0,b.K)(Me),ye=(0,d.useMemo)((function(){var e=n.findIndex((function(e){return e.type===g.QZ.lodging})),t=n[e];if(-1===e||t.type!==g.QZ.lodging)return null;var o=new Set,r=fe,u=t.places,s=t.zIndex;return u.map((function(t,n){var u=t.id;if(o.has(u))return null;o.add(u);var m={listIndex:e,placeIndex:n,place:t},f=(0,L.T)({markerIndexes:m,otherMarkerIndexes:i}),p=null!==a&&c()(a,(function(e){return l()(a,e)}));return d.createElement(O.Z,{key:"".concat(e,"_").concat(n),place:t,isSelected:f,isChecked:p,zIndex:s||null,onClick:xe(m),selectedCardPosition:r&&t.latitude>r.latitude?"bottom":"top"})}))}),[a,n,xe,i,fe]),Ie=(0,d.useMemo)((function(){return(0,M.Nh)(n.map((function(e,t){return function(e){var t=e.markerList,n=e.listIndex,o=e.selectedPlaceIndex,i=e.enlargeSelectedMarker,r=e.prefixedOnMarkerClick;if(t.type!==g.QZ.icon)return[];var a=t.markerColor,l=t.markerIcon,u=t.omitLabels,c=t.deemphasize,d=t.zIndex;return t.places.map((function(e,t){var s=o===t;return{place:e,markerColor:a,markerIcon:l,label:u?"":(0,k.z)(t),isSelected:s,enlargeSelectedMarker:i,sectionIndex:n,index:t,onClick:r({listIndex:n,placeIndex:t,place:e}),deemphasize:c,zIndex:d}}))}({markerList:e,listIndex:t,selectedPlaceIndex:(null==i?void 0:i.listIndex)===t?null==i?void 0:i.placeIndex:null,enlargeSelectedMarker:ke,prefixedOnMarkerClick:xe})})))}),[n,xe,ke,i]),Ce=(0,d.useMemo)((function(){return Ie.map((function(e){return d.createElement(v.Z,(0,r.Z)({key:"".concat(e.sectionIndex,"_").concat(e.index)},e))}))}),[Ie]),we=(0,d.useMemo)((function(){return function(e){var t=new f.ZP(_({width:600,height:400},e)).getBounds(),n=(0,o.Z)(t,2),i=(0,o.Z)(n[0],2),r=i[0],a=i[1],l=(0,o.Z)(n[1],2),u=l[0],c=l[1];return[r,a,u,c]}(fe)}),[fe]),Ze=(0,d.useRef)(null);(0,d.useEffect)((function(){if(ee){var e=Ze.current;(!e||we.some((function(t,n){return e[n]!==t})))&&(ee(we),Ze.current=we)}}),[we,ee]);var Ee=(0,P.U)((function(e,t){he(e,t)}),[he]);(0,w.fC)((0,d.useMemo)((function(){return{markerLists:n,selectedMarkerIndexes:i,panToNewPlace:J}}),[n,i,J]),ge);var ze=(0,P.U)((function(){var e;null===(e=se.current)||void 0===e||e.resize()}),[]),Pe=(0,B.dr)().distancePreference;return(0,E.$_)()?null:d.createElement(p.ZP,{handleWidth:!0,handleHeight:!0,onResize:ze},(function(e){var t=e.targetRef;return d.createElement("div",{ref:t,className:"position-relative MapGLMapWithMarkers w-100",style:{height:u||"100%"}},Q,de&&d.createElement("div",{className:"MapGLMapWithMarkers__fitButtons"},d.createElement(C.Z,{markerLists:n,selectedMarkerIndexes:i,bounds:we,onPanToSelectedClick:he,onZoomToSelectedClick:Ee,onFitAllMarkersClick:ve,showPlaceName:!1,excludeDeemphasized:le})),d.createElement(h.ZP,(0,r.Z)({ref:se},fe,{style:{width:"100%",height:"100%"},attributionControl:!1,onMove:pe,onDragStart:ne,onDragEnd:oe,mapLib:m(),mapStyle:"/assets/MapGLMapWithMarkers__liberty.json",onClick:te,onLoad:ie,cooperativeGestures:"cooperative"===ce}),d.createElement(h.zB,{compact:!0,style:A}),$&&d.createElement(I.Z,{polyline:$,polylineComponent:y.Z}),d.createElement(x.Z,{markerLists:n,selectedMarkerIndexes:i,polylineComponent:y.Z}),Ce,ye,d.createElement(h.Pv,{style:H,showCompass:!1,position:"bottom-right"}),d.createElement(h.jf,{unit:Pe===D.O.metric?"metric":"imperial",style:W}),ae))}))})),W={marginBottom:10,marginLeft:16},A={bottom:10,right:9,marginBottom:0},H={marginRight:16};function R(e){return{lng:e.longitude,lat:e.latitude}}function F(e){var t=(0,o.Z)(e,2),n=(0,o.Z)(t[0],2),i=n[0],r=n[1],a=(0,o.Z)(t[1],2);return[i,r,a[0],a[1]]}var G={width:600,height:400};function U(e){var t=e.bounds,n=e.mapDimensions,i=e.panMargins,r=e.boundsChangeMultiplier,a=(0,z.e4)({bounds:(0,z.zY)(t,r),minWidth:.01,minHeight:.01}),l=(0,o.Z)(a,4),u=l[0],c=l[1],d=l[2],s=l[3],m=n||G,p=new f.ZP(m).fitBounds([[u,c],[d,s]],{padding:V(i,m)});return{longitude:p.longitude,latitude:p.latitude,zoom:p.zoom}}function V(e,t){var n=e||{},o=n.left,i=void 0===o?0:o,r=n.right,a=void 0===r?0:r,l=n.top,u=void 0===l?0:l,c=n.bottom,d=void 0===c?0:c;return i+a>=t.width&&(i=0,a=0),u+d>=t.height&&(u=0,d=0),{left:i,right:a,top:u,bottom:d}}t.Z=j},752120:function(e,t,n){var o=n(487462),i=n(667294),r=n(14238),a=n(774756),l=i.memo((function(e){var t=e.onClick,n=(0,a.U)((function(e){e.originalEvent.stopPropagation(),t&&t(e)}),[t]);return i.createElement(r.Jx,(0,o.Z)({},e,{onClick:n}))}));t.Z=l},386024:function(e,t,n){n.d(t,{Fk:function(){return m}});var o=n(667294),i=n(996684),r=n(173762),a=n(283943),l=n(458168),u=n(189706),c=(n(188347),n(601761)),d=o.memo((function(e){var t=e.color,n=e.label,c=e.icon,d=e.onClick,f=e.onMouseEnter,p=e.onMouseLeave,h=e.buttonRef,g=e.size||"medium",v=(0,a.N9)(c||"map-marker"),k=v.markerIcon,M=v.insideMarker,b=m(g,e.icon),x=b.height,y=b.width,I=u.e[k],C=(0,l.T)(I),w=C.width,Z=C.height,E=C.path;return o.createElement("button",{type:"button",ref:h,style:{width:y,height:x},className:"position-relative ".concat(s),onClick:d,onMouseEnter:f,onMouseLeave:p},o.createElement("svg",{viewBox:"-".concat(20," -").concat(20," ").concat(w+40," ").concat(Z+40),height:"100%",width:"100%"},o.createElement("path",{fill:t,strokeWidth:40,stroke:"#fff",d:E})),M&&o.createElement("div",{className:"position-absolute d-flex align-items-center justify-content-center absolute-fill"},"label"===M.type&&o.createElement("div",{className:"text-white font-weight-bold",style:{fontSize:.4*x,paddingBottom:"small"===g?1:.2*x}},n),"icon"===M.type&&o.createElement("div",{style:{paddingBottom:"small"===g?1:.2*x,fontSize:.35*x*(M.sizeMultiplier||1)}},o.createElement(i.Z,{icon:(0,r.V)(M.icon),color:"#fff",transform:M.transform||void 0}))))})),s="MapGLMarkerIcon";function m(e,t){var n=(0,a.N9)(t||"map-marker").markerIcon,o=u.e[n],i=(0,l.T)(o),r=i.width,d=i.height,s=c.x[e];return{width:r/d*s,height:s}}t.ZP=d},964133:function(e,t,n){function o(e){var t=e,n=1;return/^#[a-f0-9]{8}$/i.test(e)&&(t=e.substr(0,7),n=parseInt(e.substr(7,2),16)/255),/^#[a-f0-9]{4}$/i.test(e)&&(t=e.substr(0,4),n=parseInt(e.substr(4,1),16)/15),{colorWithoutOpacity:t,opacity:n}}n.d(t,{N:function(){return o}})},504019:function(e,t,n){var o=n(667294),i=n(14238),r=n(597464),a=n(964133),l=o.memo((function(e){var t=e.path,n=e.color,l=(0,o.useMemo)((function(){return{type:"Feature",geometry:{type:"LineString",coordinates:t.map((function(e){return[e.longitude,e.latitude]}))},properties:{}}}),[t]),c=(0,a.N)(n),d=c.colorWithoutOpacity,s=c.opacity,m=(0,o.useMemo)((function(){return{"line-color":d,"line-width":r.oB,"line-opacity":s}}),[d,s]);return o.createElement(i.Hw,{type:"geojson",data:l},o.createElement(i.mh,{type:"line",layout:u,paint:m}))})),u={"line-join":"round","line-cap":"round"};t.Z=l},705892:function(e,t,n){var o=n(667294),i=n(14238),r=(n(399383),n(808923)),a=o.memo((function(e){var t=e.longitude,n=e.latitude,r=e.offsetTop,a=e.children;return o.createElement(i.GI,{longitude:t,latitude:n,closeButton:!1,offset:(0,o.useMemo)((function(){return[0,r]}),[r]),className:"MapGLTooltip",style:l,anchor:"bottom"},a)})),l={zIndex:r.X_};t.Z=a},189706:function(e,t,n){n.d(t,{e:function(){return r}});var o=n(729774),i=n(457681),r={"map-marker":o.Mz,"map-pin":i.wJ}},832631:function(e,t,n){n.d(t,{V:function(){return o}});var o=[-170,-60,170,60]},157754:function(e,t,n){n.d(t,{pZ:function(){return r}});var o=n(193324),i=n(918915);function r(e){var t=e.bounds,n=e.mapSize,r=e.mapPadding,a=function(e,t){var n=t||{left:0,right:0,top:0,bottom:0};return{width:e.width-n.left-n.right,height:e.height-n.top-n.bottom}}(n,r),l=a.width,u=a.height,c=((null==r?void 0:r.top)||0)/u,d=((null==r?void 0:r.bottom)||0)/u,s=((null==r?void 0:r.left)||0)/l,m=((null==r?void 0:r.right)||0)/l,f=(0,o.Z)(t,4),p={longitude:f[0],latitude:f[1]},h={longitude:f[2],latitude:f[3]},g=(0,i.w5)(p),v=(0,i.w5)(h),k=v.x-g.x,M=g.y-v.y,b={x:g.x-k*s,y:g.y+M*d},x={x:v.x+k*m,y:v.y-M*c},y=(0,i.es)(b),I=y.longitude,C=y.latitude,w=(0,i.es)(x);return[I,C,w.longitude,w.latitude]}},88870:function(){},188347:function(){},399383:function(){}}]);