"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9126],{403097:function(e,t,n){n.d(t,{G:function(){return v}});var r=n(115861),a=n(204942),o=n(189734),l=n.n(o),c=n(31324),i=n(190389),s=n(810405);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r){var a,o=[],i=d((0,s.Z8)(e,t));try{for(i.s();!(a=i.n()).done;){var u=a.value,f=r(u),p=document.getElementById(f);o.push(m(m({},u),{},{domId:f,distanceFromViewport:p?(0,c.Uf)(p,n):0}))}}catch(e){i.e(e)}finally{i.f()}return l()(o,(function(e){return e.distanceFromViewport}))}function v(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(regeneratorRuntime.mark((function e(t,n,r,a){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p(t,n,r,a),(l=o[0])&&0!==l.distanceFromViewport){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,i.X5)({to:"#".concat(o[0].domId),offset:-r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},751473:function(e,t,n){function r(e){return"ExpenseItem__id-".concat(e)}n.d(t,{A:function(){return r}})},890659:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(487462),a=n(145987),o=n(215671),l=n(143144),c=n(360136),i=n(182963),s=n(661120),u=n(667294),m=n(294184),d=n.n(m),f=n(534376),p=(n(913716),["expanded","expandedClassName","className","children","clickEvent"]);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var h=function(e){(0,c.Z)(n,e);var t=v(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.expanded,n=e.expandedClassName,o=e.className,l=e.children,c=e.clickEvent,i=(0,a.Z)(e,p);return u.createElement(f.Z,(0,r.Z)({className:d()("ExpandingButton overflow-hidden ".concat(o),{[n]:t}),clickEvent:c||null},i),l)}}]),n}(u.PureComponent);h.displayName="ExpandingButton"},441503:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(215671),a=n(143144),o=n(360136),l=n(182963),c=n(661120),i=n(667294),s=n(653346),u=n(996684),m=n(825615),d=n(720995);n(372338);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var p=function(e){(0,o.Z)(n,e);var t=f(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){var t=e.props,n=t.onClick,r=t.clickEvent,a=t.eventProperties;r&&(0,m.L9)(r,a),n()},e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.iconColor,r=e.label,a=e.tooltip,o=e.tooltipPlacement,l=e.screenReaderLabel,c=i.createElement("button",{className:"btn LargeIconButton",type:"button",onClick:this.handleClick},i.createElement("span",{className:"LargeIconButton__icon"},i.createElement(u.Z,{icon:t,color:n})),null!=r&&i.createElement("span",{className:"ml-2"},r),null!=l&&i.createElement("span",{className:"sr-only"},l));return a?i.createElement(d.Z,{overlay:i.createElement(s.Z,{target:"",fade:!1,placement:o||"bottom"},a)},c):c}}]),n}(i.PureComponent);p.displayName="LargeIconButton"},157957:function(e,t,n){var r=n(487462),a=n(145987),o=n(215671),l=n(143144),c=n(360136),i=n(182963),s=n(661120),u=n(823493),m=n.n(u),d=n(667294),f=n(78803),p=n(825615),v=n(950250),h=n(893207),y=n(597894),g=["scrollY","showOnlyWhenSticky","sessionPreferences"];function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var b=2500,E=function(e){(0,c.Z)(n,e);var t=k(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={expanded:!1,recentlyCollapsed:!1,recentlyScrolled:!1},e.recentlyScrolledTimeout=null,e.updateRecentlyScrolled=function(){e.recentlyScrolledTimeout&&clearTimeout(e.recentlyScrolledTimeout),e.state.recentlyScrolled||e.setState({recentlyScrolled:!0}),e.recentlyScrolledTimeout=setTimeout((function(){e.setState({recentlyScrolled:!1})}),b)},e.throttledUpdateRecentlyScrolled=m()(e.updateRecentlyScrolled,500),e.handleSectionClick=function(t){e.props.onSectionClick(t),e.setState({expanded:!1}),(0,p.L9)(v.j.clickTableOfContents)},e.setRecentlyCollapsedTimeout=null,e.handleExpandedChange=function(t){t!==e.state.expanded&&e.setState({expanded:t,recentlyCollapsed:!t}),t?((0,p.L9)(v.j.expandTableOfContents),e.setRecentlyCollapsedTimeout&&clearTimeout(e.setRecentlyCollapsedTimeout)):e.setRecentlyCollapsedTimeout=setTimeout((function(){e.setState({recentlyCollapsed:!1})}),b)},e}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.updateRecentlyScrolled()}},{key:"componentDidUpdate",value:function(e){e.scrollY!==this.props.scrollY&&this.throttledUpdateRecentlyScrolled()}},{key:"componentWillUnmount",value:function(){this.recentlyScrolledTimeout&&clearTimeout(this.recentlyScrolledTimeout),this.setRecentlyCollapsedTimeout&&clearTimeout(this.setRecentlyCollapsedTimeout)}},{key:"render",value:function(){var e=this.props,t=e.scrollY,n=e.showOnlyWhenSticky,o=e.sessionPreferences,l=(0,a.Z)(e,g),c=this.state,i=c.expanded,s=c.recentlyCollapsed,u=c.recentlyScrolled;return n&&!(t>=450)?null:d.createElement(h.Z,(0,r.Z)({},l,{expanded:i,showOnMobile:i||u||s,onExpandedChange:this.handleExpandedChange,onSectionClick:this.handleSectionClick,datePreference:o.datePreference}))}}]),n}(d.PureComponent);E.displayName="ContentsButton",t.Z=(0,y.xz)((0,f.o)(E,0))},893207:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(215671),a=n(143144),o=n(360136),l=n(182963),c=n(661120),i=n(667294),s=n(294184),u=n.n(s),m=n(847680),d=n(842494),f=n(905702),p=n(759545),v=n(4868),h=n(862563),y=n(996684),g=n(546922),k=n(890659),b=n(55977),E=(n(860435),n(538865));function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var C=function(e){(0,o.Z)(n,e);var t=x(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).contentButtonRef=i.createRef(),e.handleClickOutside=function(t){if(e.contentButtonRef.current&&!e.contentButtonRef.current.contains(t.target)){var n=e.props,r=n.expanded,a=n.onExpandedChange;r&&a(!1)}},e.handleButtonClick=function(){var t=e.props,n=t.expanded;(0,t.onExpandedChange)(!n)},e.handleExpandPress=function(t){"Enter"===t.key&&e.handleButtonClick()},e.handleToggleExpand=function(){e.props.onExpandedChange(!e.props.expanded)},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tripPlanType,r=t.sections,a=t.className,o=t.showOnMobile,l=t.expanded,c=t.style,s=t.datePreference;return i.createElement(k.Z,{className:u()("ContentsButtonInner p-0 overflow-hidden d-print-none",a,{ContentsButtonInner__showOnMobile:o}),expandedClassName:"ContentsButtonInner__expanded",expanded:l,style:c},i.createElement("div",{className:"w-100",ref:this.contentButtonRef},i.createElement(g.ZP,{color:"flat",faIcon:l?p.NB:f.aC,className:"ContentsButtonInner__toggle",onClick:this.handleToggleExpand,clickEvent:null,size:b.q.mdLg}),i.createElement("div",{role:"button",className:u()("ContentsButtonInner__heading p-3 px-4 cursor-pointer d-flex",{ContentsButtonInner__headingExpanded:l}),onClick:this.handleButtonClick},i.createElement("strong",null,n===E.u.plan?"Trip contents":"Guide contents")),i.createElement("div",{className:"ContentsButtonInner__sections mb-2"},r.map((function(t){var n=(0,h.eN)(t,{dateFormat:h.fh.shortDayOfTheWeekAndTextMonth,datePreference:s}),r=(0,h.yt)(t);return i.createElement("button",{key:t.id,type:"button",className:"ContentsButtonInner__section py-2 px-4",onClick:(0,m.cR)(e,"onSectionClick",[t.id]),disabled:!l},i.createElement("div",{className:"d-flex flex-column flex-grow-1 flex-shrink-1 minw-0"},i.createElement("span",{className:"ContentsButtonInner__title"},n),r&&n!==r&&i.createElement("span",{className:"ContentsButtonInner__subtitle"},r)),i.createElement("div",{className:"pl-3 ContentsButtonInner__marker ".concat(t.type!==v.bA.normal?"invisible":""),style:{color:t.placeMarkerColor}},i.createElement(y.Z,{icon:d.FG,fixedWidth:!0})))})))))}}]),n}(i.PureComponent);C.displayName="ContentsButtonInner"},247151:function(e,t,n){var r=n(487462),a=n(193324),o=n(145987),l=n(667294),c=n(997650),i=n(828747),s=n(182785),u=n(687167),m=n(353605),d=(n(693800),n(244998)),f=n(834453),p=n(774756),v=n(26645),h=n(743033),y=["isMapOpen","onIsMapOpenChange","style","title"],g=l.memo((function(e){var t=e.isMapOpen,n=e.onIsMapOpenChange,g=e.style,b=e.title,E=(0,o.Z)(e,y),x=k(e.onExistingPlaceSelect,n),C=k(e.onSelectedItemChange,n),Z=k(e.onNonMarkerClick,n),w={style:g},S=e.tripPlanType,P=(0,u.vA)(n,!0),N=(0,u.vA)(n,!1),I=(0,s.i)(S),O=I.alwaysShowRouteLines,R=I.onAlwaysShowRouteLinesToggle,_=(0,l.useState)(!1),T=(0,a.Z)(_,2),B=T[0],M=T[1],A=(0,p.U)((function(e){M(!e)}),[]);return l.createElement("div",{className:"PlanFullScreenExpandingMap__container position-relative"},l.createElement(c.df,{onChange:A,threshold:.5},l.createElement(m.Z,(0,r.Z)({},w,{isOpen:t,onClose:N,className:"PlanFullScreenExpandingMap"}),(function(){return l.createElement(i.Z,(0,r.Z)({},E,{onExitMap:t?N:null,isOpen:!0,alwaysShowRouteLines:O,onAlwaysShowRouteLinesToggle:R,selectedBlock:null,componentsToHide:null,gestureHandling:t?"greedy":"cooperative",onExistingPlaceSelect:x,onSelectedItemChange:C,onNonMarkerClick:Z,showFitButtons:t,selectedPlaceDisplayMode:t?"full-width":"none"}))}))),b&&l.createElement("div",{className:"PlanFullScreenExpandingMap__titleContainer position-absolute"},l.createElement(f.Z,null,l.createElement(d.Z,{className:"p-3 PlanFullScreenExpandingMap__title color-primary-darkest",noLineHeight:!0,noPadding:!0},b))),l.createElement(h.Z,{in:B},l.createElement(v.Z,{onClick:P})))}));function k(e,t){return(0,p.U)((function(){return t(!0),e?e.apply(void 0,arguments):void 0}),[e,t])}t.Z=g},744814:function(e,t,n){var r;n.d(t,{M:function(){return r}}),function(e){e.map="map"}(r||(r={}))},621189:function(e,t,n){n.d(t,{En:function(){return g},Ws:function(){return y},y6:function(){return p}});var r=n(487462),a=n(667294),o=n(616550),l=n(108679),c=n.n(l),i=n(744814),s=n(956228),u=n(898784),m=n(862056),d=n(774756);var f=(0,u.J)({isInjected:!1,sidebarTab:null,onSidebarTabChange:function(){}},{name:"WithSidebarContext"}),p=f.Context,v=f.ContextProvider,h=a.memo((function(e){var t,n=(0,s.jK)(),r=(0,o.TH)(),l=(0,o.k6)(),c=(0,m.Q_)(n)?i.M.map:(t=r.pathname,/\/map$/.test(t)?i.M.map:null),u=(0,a.useRef)(!1),f=(0,a.useRef)((function(){}));(0,a.useEffect)((function(){f.current=function(e){if(!(0,m.Q_)(n)&&e!==c){var t=r.pathname;e===i.M.map?(l.push("".concat(t,"/map")),u.current=!0):u.current?(u.current=!1,l.goBack()):l.push(t.replace(/\/map$/,""))}}}),[l,r.pathname,c,n]);var p=(0,d.U)((function(e){f.current(e)}),[f]);return a.createElement(v,{isInjected:!0,sidebarTab:c,onSidebarTabChange:p},e.children)})),y=a.memo((function(e){var t=e.children;return(0,a.useContext)(p).isInjected?a.createElement(a.Fragment,null,t):a.createElement(h,null,t)}));function g(e){var t=e,n=a.memo((function(e){var n=e.forwardedRef,o=(0,a.useContext)(p),l=o.sidebarTab,c=o.onSidebarTabChange,s=!!l,u=(0,d.U)((function(e){c(e?i.M.map:null)}),[c]);return a.createElement(t,(0,r.Z)({ref:n},e,{sidebarTab:l,onSidebarTabChange:c,isMapOpen:s,onIsMapOpenChange:u}))})),o=a.forwardRef((function(e,t){return a.createElement(y,null,a.createElement(n,(0,r.Z)({},e,{forwardedRef:t})))}));return o.displayName="withSidebarTab(".concat(e.displayName,")"),c()(o,e),o}},310334:function(e,t,n){var r=n(667294),a=n(950906),o=n(996684),l=n(230929),c=n(497277),i=n(545870),s=(n(521960),n(416645)),u=n(781193),m=r.memo((function(e){var t=e.onViewAttachment,n=e.value,m=e.editMode,d=e.onSelect,f=e.expense,p=e.allowOnSelect,v=e.className,h=e.backgroundColor,y=e.omitAdditionalInfo,g=(0,u.l)(i.b),k=(0,c.i)({block:n,onClick:t}),b=null===n.flightInfo.number?n.flightInfo.airline.iata:n.flightInfo.airline.iata+" "+n.flightInfo.number,E=g(n),x=r.createElement("div",{className:"d-flex flex-column"},r.createElement("div",{className:"d-flex mb-2"},r.createElement("div",{className:"d-flex flex-column mr-4"},r.createElement("div",{className:"d-flex align-items-center"},r.createElement("span",{className:"mr-4 font-weight-bold"},n.depart.airport?n.depart.airport.iata:"TBD"),r.createElement(o.Z,{icon:a.eF,color:s.$z})),n.depart.airport&&r.createElement("span",{className:"FlightsSectionItemView__city"},n.depart.airport.cityName)),r.createElement("div",{className:"d-flex flex-column"},r.createElement("span",{className:"font-weight-bold"},n.arrive.airport?n.arrive.airport.iata:"TBD"),n.arrive.airport&&r.createElement("span",{className:"FlightsSectionItemView__city"},n.arrive.airport.cityName))),r.createElement("div",{className:"FlightsSectionItemView__date"},E.departDateDisplay&&r.createElement(r.Fragment,null,r.createElement("span",null,E.departDateDisplay),r.createElement("span",{className:"mx-2"},"•"),r.createElement("span",null,E.departTime),r.createElement("span",{className:"mx-1"},"—"),r.createElement("span",null,E.arriveTime),!!E.arriveDaysFuture&&r.createElement("sup",null,"+"+E.arriveDaysFuture))),r.createElement("div",{className:"FlightsSectionItemView__smallCaps"},n.flightInfo.airline.name," ",b));return r.createElement(l.Z,{confirmationNumber:n.confirmationNumber||null,notes:n.text,onOpenAttachment:k,editMode:m,onSelect:d,className:v,expense:f,allowOnSelect:p,backgroundColor:h,omitAdditionalInfo:y},x)}));t.Z=m},160622:function(e,t,n){var r=n(667294),a=r.memo((function(e){var t=e.checkboxChildren,n=e.textChildren;return r.createElement("div",{className:"p-0 d-flex align-items-start"},r.createElement("div",{className:"mr-2 ml-1 mt-1"},t),r.createElement("div",{className:"flex-grow-1"},n))}));t.Z=a},168025:function(e,t,n){var r=n(487462),a=n(145987),o=n(667294),l=n(294184),c=n.n(l),i=n(413260),s=(n(977482),["boxClassName","className"]),u=o.memo((function(e){var t=e.boxClassName,n=e.className,l=(0,a.Z)(e,s);return o.createElement(i.Z,(0,r.Z)({},l,{isCircular:!0,className:c()("d-flex justify-content-center",n),boxClassName:c()("ChecklistSectionItemCheckbox",t)}))}));t.Z=u},805444:function(e,t,n){var r=n(667294),a=n(160622),o=n(168025),l=n(655179),c=r.memo((function(e){var t=e.value,n=(0,r.useCallback)((function(e){var t=e.checked,n=e.text,c=e.id,s=(0,l.as)(n,{trimString:!1});return s?r.createElement(a.Z,{key:c,checkboxChildren:r.createElement(o.Z,{checked:t,onChange:i,size:"1x",disabled:"viewOnly"}),textChildren:s}):null}),[]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"font-weight-bold font-size-16 p-0 pb-2"},t.title),t.items.map(n))})),i=function(){};t.Z=c},830792:function(e,t,n){var r=n(667294),a=n(645420),o=n(976252),l=n(230929),c=n(497277),i=r.memo((function(e){var t=e.onViewAttachment,n=e.value,i=e.editMode,s=e.className,u=e.onSelect,m=e.expense,d=e.allowOnSelect,f=e.backgroundColor,p=e.omitAdditionalInfo,v=(0,c.i)({block:n,onClick:t});return r.createElement(l.Z,{confirmationNumber:n.confirmationNumber||null,notes:n.text,onOpenAttachment:v,editMode:i,onSelect:u,className:s,expense:m,allowOnSelect:d,backgroundColor:f,omitAdditionalInfo:p},r.createElement("div",{className:"d-flex flex-column"},r.createElement("div",{className:"d-flex mb-2"},r.createElement("span",{className:"font-weight-bold"},n.pickUp.place.name)),r.createElement(o.Z,{className:"mb-2",value:n.pickUp,type:a.sW.pickUp}),r.createElement(o.Z,{value:n.dropOff,type:a.sW.dropOff})))}));t.Z=i},976252:function(e,t,n){var r=n(667294),a=n(294184),o=n.n(a),l=n(645420),c=(n(210267),n(781193)),i=r.memo((function(e){var t=e.value,n=e.type,a=e.className,i=(0,c.l)(l.y3)(t);return r.createElement("div",{className:o()("RentalCarsTerminusView__date",a)},i&&r.createElement(r.Fragment,null,r.createElement("span",null,n===l.sW.pickUp?"Pick up":"Drop off",":"," ",i.dateDisplay),r.createElement("span",{className:"mx-2"},"•"),i.time?r.createElement("span",null,i.time):r.createElement("span",{className:"RentalCarsTerminusView__mutedText"},"Add time")),r.createElement("div",{className:"RentalCarsTerminusView__address"},r.createElement("span",null,t.place.formatted_address)))}));t.Z=i},230929:function(e,t,n){var r=n(667294),a=n(294184),o=n.n(a),l=n(431156),c=n(551651),i=n(655179),s=n(751473),u=n(190389),m=n(60927),d=n(276163),f=n(542755),p=n(950250),v=n(546922),h=n(774756),y=(n(918882),r.memo((function(e){var t=e.confirmationNumber,n=e.notes,a=e.onOpenAttachment,y=e.editMode,g=e.onSelect,k=e.expense,b=e.allowOnSelect,E=e.className,x=e.backgroundColor,C=e.omitAdditionalInfo,Z=e.children,w=(0,h.U)((function(){k&&(0,u.X5)({to:"#".concat((0,s.A)(k.id))})}),[k]),S=y!==c.Gt.suggesting,P=y!==c.Gt.suggesting&&!(0,i.xb)(n)&&n.ops,N=!C&&(t||P||k),I=a&&S,O=!x||"gray"===x;return r.createElement("div",{role:"button",className:o()("ReservationItemView position-relative d-xl-flex",O?"ReservationItemView__grayBackground":"ReservationItemView__transparentBackground",d.H,E),onClick:b||y===c.Gt.editing?g:void 0},r.createElement("div",{className:"d-flex flex-column flex-xl-row justify-content-between flex-grow-1"},r.createElement("div",{className:"pr-xl-2 pr-xl-3 flex-grow-1"},r.createElement("div",{className:"m-3"},Z)),(N||I)&&r.createElement(r.Fragment,null,r.createElement("hr",{className:"mx-3 my-0 flex-grow-1 d-xl-none"}),r.createElement("div",{className:"ReservationItemView__verticalLine my-3 d-none d-xl-block"})),r.createElement("div",{className:o()("ReservationItemView__additional position-relative position-xl-static",{"d-flex justify-content-end":!N})},I&&a&&r.createElement(v.ZP,{faIcon:l.Al,onClick:a,color:"gray",screenReaderLabel:"Open attachment",className:o()("ReservationItemView__clip align-items-center justify-content-center d-print-none",N?"ReservationItemView__clipWithText":"ReservationItemView__clipAlone"),clickEvent:p.j.openConfirmationEmail}),N&&r.createElement("div",{className:"m-3"},r.createElement("div",{className:"d-flex flex-column flex-grow-1"},t&&r.createElement(r.Fragment,null,r.createElement("div",{className:"ReservationItemView__smallCaps"},"Confirmation #"),r.createElement("div",{className:"mb-2"},t)),P&&n.ops&&r.createElement(r.Fragment,null,r.createElement("div",{className:"ReservationItemView__smallCaps"},"Notes"),r.createElement("div",{className:o()("ReservationItemView__quill mb-2",{"mr-5":I})},r.createElement(m.Z,{ops:n.ops})))),y===c.Gt.editing&&k&&r.createElement(f.Z,{color:"gray",onClick:w,money:k.amount,clickEvent:p.j.editReservationItemExpense})))))})));t.Z=y},701347:function(e,t,n){var r=n(667294),a=n(950906),o=n(996684),l=n(551651),c=n(230929),i=n(497277),s=n(545870),u=(n(865206),n(416645)),m=n(781193),d=r.memo((function(e){var t=e.value,n=e.onViewAttachment,d=e.editMode,f=e.onSelect,p=e.expense,v=e.allowOnSelect,h=e.className,y=e.backgroundColor,g=e.omitAdditionalInfo,k=(0,m.l)(s.b),b=(0,i.i)({block:t,onClick:n}),E=(0,r.useMemo)((function(){return k(t)}),[k,t]);return r.createElement(c.Z,{confirmationNumber:t.confirmationNumber||null,notes:t.text,onOpenAttachment:b,editMode:d,onSelect:f,className:h,expense:p,allowOnSelect:v,backgroundColor:y,omitAdditionalInfo:g},r.createElement("div",{className:"d-flex flex-column"},r.createElement("div",{className:"d-flex mb-2"},r.createElement("div",{className:"d-flex flex-column mr-3"},r.createElement("div",{className:"d-flex align-items-center"},r.createElement("span",{className:"mr-3 font-weight-bold"},t.depart.place.name),r.createElement(o.Z,{icon:a.eF,color:u.$z}))),r.createElement("div",{className:"d-flex flex-column"},r.createElement("span",{className:"font-weight-bold"},t.arrive.place.name))),r.createElement("div",{className:"TransitSectionItemView__date"},r.createElement("span",null,E.departDateDisplay),r.createElement("span",{className:"mx-2"},"•"),E.departTime&&E.arriveTime?r.createElement(r.Fragment,null,r.createElement("span",null,E.departTime),r.createElement("span",{className:"mx-1"},"—"),r.createElement("span",null,E.arriveTime),r.createElement("sup",null,E.arriveDaysFuture>0&&"+"+E.arriveDaysFuture)):r.createElement("span",{className:"text-muted"},"Add time")),(t.carrier||d===l.Gt.editing)&&r.createElement("div",{className:"text-muted font-weight-bold font-size-10 text-uppercase"},t.carrier||"Add transit carrier")))}));t.Z=d},386174:function(e,t,n){var r,a=n(487462),o=n(115861),l=n(215671),c=n(143144),i=n(360136),s=n(182963),u=n(661120),m=n(667294),d=n(380955),f=n(979800),p=n(337144),v=n(35931);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var y=(0,d.Pi)(r=function(e){(0,i.Z)(r,e);var t,n=h(r);function r(){var e;(0,l.Z)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={email:null,loading:!1,error:null},e}return(0,c.Z)(r,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){e.author.id!==this.props.author.id&&this.loadData()}},{key:"loadData",value:(t=(0,o.Z)(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.author,(r=t.auth.user)&&"Administrator"===r.role){e.next=3;break}return e.abrupt("return");case 3:return this.setState({email:null,loading:!0}),e.prev=4,e.next=7,(0,v.gV)(n.id);case 7:a=e.sent,this.setState({email:a,loading:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.setState({loading:!1,error:e.t0.message});case 14:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.email,n=e.loading,r=e.error,o=t;return n?o="Loading...":r&&(o=r),m.createElement(f.Z,(0,a.Z)({},this.props,{email:o}))}}]),r}(m.PureComponent))||r;y.displayName="AuthorView",t.Z=(0,p.fm)(y)},979800:function(e,t,n){var r=n(667294),a=n(730381),o=n.n(a),l=n(946425),c=n.n(l),i=n(653346),s=n(281415),u=n(720995),m=n(462447),d=n(65506),f=n(774756),p=(n(848177),n(94970)),v=r.memo((function(e){var t=e.author,n=e.email,a=e.editedAt,l=e.className,v=e.viewCount,h=e.showLink,y=void 0===h||h,g=(0,p.$)().formatDate,k=(0,f.U)((function(){n&&c()(n)}),[n]),b=a?o().utc(a,"YYYY-MM-DD"):null,E=b?g(b,"MMM Do, YYYY"):null,x=y?r.createElement(d.Z,{user:t}):r.createElement("span",null,t.name);return r.createElement("div",{className:"d-flex flex-column ".concat(l||"")},r.createElement("div",{className:"d-flex flex-row align-items-center"},r.createElement("div",{className:"mr-3"},r.createElement(s.Z,{name:t.name,username:t.username,profilePictureKey:t.profilePictureKey,colorTheme:m.hG.gray200,size:"md",showProfileProBadge:!1})),r.createElement("div",{className:"d-flex flex-column justify-content-center"},r.createElement("div",{className:"AuthorViewInner__author d-flex flex-row align-items-center"},t.name?r.createElement(r.Fragment,null,n?r.createElement(u.Z,{overlay:r.createElement(i.Z,{target:"",placement:"bottom"},n," (click to copy)")},r.createElement("span",{onClick:k},t.name)):x):r.createElement("em",{className:"text-muted"},"an anonymous author")),r.createElement("div",{className:"d-md-flex flex-row flex-wrap AuthorViewInner__updated text-muted"},E&&r.createElement("div",{className:"text-nowrap"},E),E&&!!v&&r.createElement("div",{className:"d-none d-md-block mr-1 ml-1"}," • "),!!v&&r.createElement("div",{className:"text-muted text-nowrap"},v," views")))))}));t.Z=v},987506:function(e,t,n){n.d(t,{Z4:function(){return D},mX:function(){return r}});var r,a=n(487462),o=n(204942),l=n(115861),c=n(193324),i=n(667294),s=n(919905),u=n(744814),m=n(810405),d=n(401905),f=n(403097),p=n(162177),v=n(190389),h=n(3926),y=n(188155),g=n(673259),k=n(438212),b=n(916746),E=n(774756),x=n(304678),C=n(925483),Z=n(538865),w=n(247151),S=n(878927),P=n(244998),N=n(937721),I=n(862056),O=n(956228),R=n(331455);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){return"BoardAndMap__block_".concat(e)}function M(e){return B(e.id)}!function(e){e.slideFromSide="slideFromSide",e.expandingAtTop="expandingAtTop"}(r||(r={}));var A=i.memo(i.forwardRef((function(e,t){var n=e.onSidebarTabChange,o=e.sections,_=e.onSelectedItemChange,A=e.tripPlanType,D=e.selectedItem,L=e.exportToGoogleMapsTripPlanKey,j=e.geo,F=e.sidebarTab,U=e.transparentNavbar,V=e.distancesBetweenPlaces,z=e.explicitPolyline,K=e.mapComponent,G=e.traceSource,W=e.title,Y=e.distinction,H=e.startDate,X=e.endDate,$=e.footer,q=e.headerImageKey,Q=e.headerImageOverlay,J=e.showStartPlanningPromo,ee=e.listId,te=e.type,ne=e.saveButtonDetails,re=e.onPlacesListClick,ae=e.betweenGeosCityData,oe=e.children,le=e.onLoginAfterSaveClick,ce=e.showOnXOtherLists,ie=e.placeMetadata,se=e.midListPromos,ue=e.mobileMapMode,me=e.deemphasizedTripPlanSections,de=(0,i.useState)(null),fe=(0,c.Z)(de,2),pe=fe[0],ve=fe[1],he=(0,b.K)(n),ye=(0,i.useCallback)((function(e){return"BoardAndMap__section-".concat(e)}),[]),ge=(0,i.useRef)(!1),ke=(0,i.useCallback)(function(){var e=(0,l.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ge.current=!0,e.prev=1,e.next=4,(0,v.X5)({to:"#".concat(ye(t)),offset:-80});case 4:return e.prev=4,ge.current=!1,e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}(),[ye]);(0,i.useImperativeHandle)(t,(function(){return{scrollToSection:ke}}),[ke]);var be,Ee,xe=(0,i.useRef)(null),Ce=(0,i.useCallback)(function(){var e=(0,l.Z)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isPlace){e.next=2;break}return e.abrupt("return");case 2:if(n=t.googlePlace,r=t.googlePlaceId,n||r===xe.current){e.next=17;break}return xe.current=r,e.prev=6,e.next=9,(0,k.Vg)(r);case 9:n=e.sent,xe.current=null,D&&D.isPlace&&D.googlePlaceId===t.googlePlaceId&&_(T(T({},t),{},{googlePlace:n})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),_(null);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),[_,D]),Ze=(0,E.U)(function(){var e=(0,l.Z)(regeneratorRuntime.mark((function e(t,n){var r,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return _(null),e.abrupt("return");case 3:if(0!==(r=(0,m.Z8)(t,o)).length){e.next=6;break}throw new Error("Couldn't find any places matching ".concat(t," in ").concat(o));case 6:if(a=r[0],A===Z.u.story&&(a=T(T({},a),{},{omitLabel:!0})),l=a.googlePlaceId,_(a),Ce(a),!n){e.next=19;break}return ge.current=!0,e.prev=13,e.next=16,(0,f.G)(l,o,h.E,(function(e){return B(e.blockId)}));case 16:return e.prev=16,ge.current=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[13,,16,19]])})));return function(t,n){return e.apply(this,arguments)}}(),[Ce,_,A,o]),we=(0,E.U)(function(){var e=(0,l.Z)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(t),"block"!==(null==t?void 0:t.type)){e.next=11;break}return n=t.blockId,r=B(n),ge.current=!0,e.prev=5,e.next=8,(0,v.X5)({to:"#".concat(r)});case 8:return e.prev=8,ge.current=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[5,,8,11]])})));return function(t){return e.apply(this,arguments)}}(),[_]),Se=(0,E.U)((function(e){ge.current||_(e)}),[_]),Pe=(0,i.useMemo)((function(){if(null===ie)return{};var e=ie;return ce||(e=e.map((function(e){return T(T({},e),{},{sources:[]})}))),(0,d.m2)(e)}),[ce,ie]),Ne={exportToGoogleMapsTripPlanKey:L,selectedItem:D,onPlacesListClick:re,distancesBetweenPlaces:V,explicitPolyline:z,mapComponent:K,traceSource:G,deemphasizedTripPlanSections:me},Ie={title:W,tripPlanType:A,distinction:Y,startDate:H,endDate:X,footer:$,headerImageKey:q,headerImageOverlay:Q,selectedItem:D,sections:o,showStartPlanningPromo:J,listId:ee,type:te,saveButtonDetails:ne,onPlacesListClick:re,betweenGeosCityData:ae,distancesBetweenPlaces:V,midListPromos:se},Oe=(0,x.uX)((function(){return(0,C.MX)(o,(null==j?void 0:j.bounds)||null)}),[o,j],y.NP),Re=(0,E.U)((function(e){n(e?u.M.map:null)}),[n]),_e=F===u.M.map,Te=T(T({},Ne),{},{defaultBoundsGeo:j,tripPlanType:A||g.k.placesList,onLoginAfterSaveClick:le,placeSections:Oe,isMapOpen:_e,onIsMapOpenChange:Re,onExistingPlaceSelect:Ze,onSelectedItemChange:we,placeMetadata:Pe,showOnlySectionId:pe,onShowOnlySectionIdChange:ve,onFindHotelsClick:null,saveButton:ne,onOptimizeRouteClick:null,onBoundsChanged:null}),Be=null,Me=(0,O.J3)(),Ae=!1===(Me?(0,I.Q_)(Me):null)&&_e;switch(ue){case r.slideFromSide:be=i.createElement(s.Z,Te),Ee=W;break;case r.expandingAtTop:be=i.createElement(i.Fragment,null,i.createElement("div",{className:"d-none d-md-block"},i.createElement(s.Z,(0,a.Z)({},Te,{initialMapLayersOverlayMode:N.b.large,mapLayersOverlayTitle:"Map legend"}))),i.createElement("div",{className:"d-md-none"},i.createElement(w.Z,(0,a.Z)({},Te,{title:null!=W?W:null,initialMapLayersOverlayMode:N.b.compact,mapLayersOverlayTitle:"Map legend",isMapOpen:Ae})))),Ee=void 0,Be=null!=W?W:null;break;default:(0,S.j)(ue),be=null}return i.createElement("div",null,be,i.createElement("div",{className:U||"expandingAtTop"===ue?"":"navbar-offset"},i.createElement(p.Z,(0,a.Z)({},Ie,{title:Ee,geoName:(null==j?void 0:j.name)||null,geoId:(null==j?void 0:j.id)||null,onLoginAfterSaveClick:le,onSelectedItemChange:Se,isSidebarOpen:!!F,showOnlySectionId:pe,onShowOnlySectionIdChange:o.length>1?ve:null,placeMetadata:Pe,onShowOnMapClick:F||(null==ee?void 0:ee.type)!==R.RH.geoCategory?void 0:he(u.M.map),blockToId:M,getDOMIdForSection:ye}),Be&&i.createElement(P.Z,{noLineHeight:!0,className:"d-none d-md-block mt-3"},Be),oe)))})));function D(e){return{idSuffix:e.id,sections:e.boardSections,type:e.type,placeMetadata:e.placeMetadata,startDate:e.startDate,endDate:e.endDate,distancesBetweenPlaces:e.distancesBetweenPlaces||null,explicitPolyline:e.routePolyline}}t.ZP=A},893989:function(e,t,n){var r=n(667294),a=n(60927),o=n(655179),l=(n(904903),r.memo((function(e){var t=e.block;return(0,o.xb)(t.text)||!t.text.ops?null:r.createElement("div",{className:"BoardNoteBlock d-flex align-items-center"},r.createElement("div",{className:"BoardNoteBlock__quill"},r.createElement(a.Z,{ops:t.text.ops})))})));t.Z=l},878366:function(e,t,n){var r=n(487462),a=n(145987),o=n(667294),l=n(775625),c=n(357408),i=n(304678),s=["blocks","blockIndex","sectionMode","nextPlaceIndexes","placeBeforeSection","distancesBetweenPlaces","defaultTravelMode"],u=o.memo((function(e){var t=e.blocks,n=e.blockIndex,u=e.sectionMode,m=e.nextPlaceIndexes,d=e.placeBeforeSection,f=e.distancesBetweenPlaces,p=e.defaultTravelMode,v=(0,a.Z)(e,s),h=(0,i.uX)((function(){return f?(0,c.S7)({blocks:t,blockIndex:n,sectionMode:u,nextPlaceIndexes:m,placeBeforeSection:d,distancesBetweenPlaces:f,defaultTravelMode:p,numAssociatedHotels:0}):null}),[n,t,p,f,m,d,u]);return o.createElement(l.Z,(0,r.Z)({},v,{distanceDividerInfo:h}))}));t.Z=u},789044:function(e,t,n){var r=n(667294),a=n(441145),o=n(965394),l=n(950250),c=n(546922),i=n(687167),s=r.memo((function(e){var t=e.collapsed,n=e.onCollapsedChange,s=(0,i.OT)(t,n);return r.createElement(c.ZP,{onClick:s,className:"px-0",color:"flat",faIcon:t?o._t:a.pt,clickEvent:t?null:l.j.collapseSection})}));t.Z=s},411699:function(e,t,n){var r=n(667294),a=n(923450),o=n.n(a),l=n(244998),c=n(4868),i=n(862563),s=n(687167),u=n(789044),m=n(401993),d=n(597894),f=r.memo((function(e){var t=e.section,n=e.collapsed,a=e.onCollapsedChange,f=(0,d.dr)().datePreference,p=(0,i.eN)(t,{fillUntitled:!0,datePreference:f}),v=t.heading&&t.mode===c.cd.guideDayPlan,h=(0,s.OT)(n,a),y=(0,m.l)(t);return r.createElement("div",{role:"button",onClick:h,className:"mt-2 font-weight-bold cursor-pointer"},r.createElement("div",{className:"d-flex align-items-center justify-content-center w-100"},r.createElement(l.Z,{tag:y?"h1":"h2",noPadding:!0,className:"mr-auto",underlineType:y?l.U.Always:void 0},p),r.createElement(u.Z,{collapsed:n,onCollapsedChange:a})),(n||v)&&r.createElement("div",{className:"d-flex flex-row align-items-center mt-1"},n&&r.createElement("span",{className:"text-muted font-weight-bold"},t.blocks.length?"".concat(t.blocks.length," ").concat(o()("place",t.blocks.length)):"No places",v&&r.createElement("span",{className:"px-2"},"•")),v&&r.createElement("span",{className:"text-muted"},t.heading)))}));t.Z=f},412008:function(e,t,n){var r=n(667294),a=n(923450),o=n.n(a),l=n(847680),c=n(244998),i=n(789044),s=n(687167),u=n(281415),m=n(59366),d=r.memo((function(e){var t=e.recommender,n=e.friendRecommendationId,a=e.placeCount,d=e.collapsed,f=e.onCollapsedChange,p=t.username,v=t.name,h=t.profilePictureKey,y=(0,s.OT)(d,f);return r.createElement("div",{role:"button",onClick:y,className:"mt-2 cursor-pointer"},r.createElement("div",{className:"d-flex align-items-center justify-content-center w-100"},r.createElement("div",{className:"mr-2"},r.createElement(u.Z,{profilePictureKey:h,name:v,username:p,size:"48",showProfileProBadge:!1})),r.createElement("div",{className:"mr-auto"},r.createElement(c.Z,{tag:"h5",noPadding:!0,className:"mr-auto"},v||"@".concat(p)),r.createElement("div",{className:"text-muted font-size-12 mt-1"},"Recommended ",o()("place",a,!0))),r.createElement(i.Z,{collapsed:d,onCollapsedChange:f}),r.createElement("div",{onClick:l.UW},r.createElement(m.Z,{friendRecommendationId:n,recommender:t}))))}));t.Z=d},59366:function(e,t,n){var r=n(115861),a=n(667294),o=n(487e3),l=n(295332),c=n(158748),i=n(161890),s=n(774756),u=a.memo((function(e){var t=e.friendRecommendationId,n=e.recommender,u=(0,o.Cq)(i.iP),m=u.state,d=u.call,f=u.setStateResult;(0,a.useEffect)((function(){d(t)}),[t,d]);var p=(0,o.Cq)(i.X2),v=p.state,h=p.call,y=(0,s.U)((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:"error"===e.sent.status?(0,c.Am)({text:"We ran into an error while trying to thank the recommender; please try again later",color:c.PQ.danger}):((0,c.Am)({text:"Thanked ".concat(n.name||"@".concat(n.username)," for their recommendations!"),color:c.PQ.default}),f(!0));case 4:case"end":return e.stop()}}),e)}))),[t,f,h,n]);return a.createElement(l.Z,{thanked:"done"===(null==m?void 0:m.status)&&m.result,loading:"inProgress"===(null==v?void 0:v.status),onThank:y})}));t.Z=u},295332:function(e,t,n){var r=n(667294),a=n(892512),o=n(275061),l=n(546922),c=n(950250),i=n(55977),s=n(416645),u=r.memo((function(e){var t=e.thanked,n=e.loading,u=e.onThank;return r.createElement(l.ZP,{label:t?"Thanked":"Thank",faIcon:t?a.m6:o.m6,faIconProps:t?{color:s.Q6}:void 0,onClick:u,clickEvent:c.j.thankFriendRecommendation,loading:n,disabled:t,color:"gray",size:i.q.mdLg})}));t.Z=u},49059:function(e,t,n){var r=n(487462),a=n(193324),o=n(145987),l=n(667294),c=n(120627),i=n(997650),s=n(4868),u=n(810405),m=n(655179),d=n(60927),f=n(825615),p=n(950250),v=n(435590),h=n(381747),y=n(620083),g=n(893989),k=n(412008),b=n(837401),E=n(411699),x=n(645420),C=n(310334),Z=n(551651),w=n(911889),S=n(830792),P=n(701347),N=n(916746),I=n(774756),O=n(687167),R=n(450259),_=n(878366),T=n(304678),B=n(403287),M=(n(167321),n(805444)),A=n(878927),D=n(592234),L=n(769867),j=n(377341),F=["section","placeMetadata","selectedItem","showOnlySectionId","onShowOnlySectionIdChange","placeIdSections","id","hideSectionHeaders","onSelectedItemChange","type","onShowOnMapClick","onLoginAfterSaveClick","blockToId","distancesBetweenPlaces","midListPromos"],U=l.memo((function(e){var t=e.section,n=e.placeMetadata,U=e.selectedItem,V=e.showOnlySectionId,z=e.onShowOnlySectionIdChange,K=e.placeIdSections,G=e.id,W=e.hideSectionHeaders,Y=e.onSelectedItemChange,H=(e.type,e.onShowOnMapClick),X=e.onLoginAfterSaveClick,$=e.blockToId,q=e.distancesBetweenPlaces,Q=e.midListPromos,J=(0,o.Z)(e,F),ee=J.sectionIndex,te=(0,B.lS)().itineraryOptions,ne=(0,l.useState)(!1),re=(0,a.Z)(ne,2),ae=re[0],oe=re[1],le=(0,l.useCallback)((function(e){return $&&$(e)||void 0}),[$]),ce=(0,l.useCallback)((function(e,t){var n,r,a,o,l,c;if(!t)return!1;switch(e.type){case y.k.place:return e.place.placeId===t;case y.k.flight:return(null===(n=e.depart.airport)||void 0===n||null===(r=n.googlePlace)||void 0===r?void 0:r.place_id)===t||(null===(a=e.arrive.airport)||void 0===a||null===(o=a.googlePlace)||void 0===o?void 0:o.place_id)===t;case y.k.rentalCar:return(null===(l=e.pickUp.place)||void 0===l?void 0:l.place_id)===t||(null===(c=e.dropOff.place)||void 0===c?void 0:c.place_id)===t;case y.k.note:case y.k.story:default:return!1}}),[]),ie=(0,I.U)((function(e){var n=t.blocks[e];n.type===y.k.rentalCar&&Y((0,u.bU)(n,x.sW.pickUp))}),[Y,t.blocks]),se=(0,I.U)((function(e){var n=t.blocks[e];n.type!==y.k.bus&&n.type!==y.k.train||Y((0,u.jn)(n,j._c.depart))}),[Y,t.blocks]),ue=(0,I.U)((function(e){var n=t.blocks[e];n.type===y.k.flight&&Y((0,u.pw)(n,n.arrive||n.depart))}),[Y,t.blocks]),me=(0,I.U)((function(e){var n=t.blocks[e];n.type===y.k.place&&Y((0,u.GE)({block:n,section:t,blockIndex:e}))}),[Y,t]),de=(0,u.OQ)(U),fe=!(0,v.f4)()&&z,pe=-1,ve=t.friendRecommendation,he=(0,I.U)((function(e){z&&(z(e),e&&(0,f.L9)(p.j.showOnlySectionClick))}),[z]),ye=(0,O.vA)(he,t.id),ge=z&&ye,ke=(0,O.vA)(he,null),be=z&&ke,Ee=(0,N.K)(me),xe=(0,N.K)(ue),Ce=(0,N.K)(ie),Ze=(0,N.K)(se),we=(0,T.uX)((function(){return(0,R.cU)(t.blocks)}),[t.blocks]),Se=(0,I.U)((function(e,t){t&&me(e)}),[me]),Pe=(0,N.K)(Se);return l.createElement("div",{id:G,className:"mt-4 mb-5"},!W&&(ve?l.createElement(k.Z,{recommender:ve.recommender,friendRecommendationId:ve.id,placeCount:(0,b.bv)(t.blocks,y.k.place).length,collapsed:ae,onCollapsedChange:oe}):l.createElement(E.Z,{section:t,collapsed:ae,onCollapsedChange:oe})),l.createElement(c.Z,{isOpen:!ae},l.createElement("div",{className:"mt-2"},!(0,m.xb)(t.text)&&l.createElement("div",{className:"my-2"},l.createElement(d.Z,{ops:t.text.ops||null})),0!==t.blocks.length&&l.createElement(l.Fragment,null,ge&&be&&fe&&t.type!==s.bA.story&&(V!==t.id?l.createElement("button",{className:"btn btn-link btn-link-inline btn-sm btn-small",type:"button",onClick:ge},"Show only these on map"):l.createElement("button",{className:"btn btn-link btn-link-inline btn-sm btn-small",type:"button",onClick:be},"Show all places on map"))),t.blocks.map((function(e,a){var o,c,s=ce(e,de);switch(e.type){case y.k.place:var u,m=e.place.placeId;++pe,c=!1;var d=l.createElement(_.Z,(0,r.Z)({},J,{onLoginAfterSaveClick:X,place:e,metadata:n[e.place.placeId],onShowOnMapClick:null!=H?H:null,markerColor:t.placeMarkerColor,markerIndex:pe,markerIcon:t.placeMarkerIcon||void 0,isSelected:s,onSelect:Ee(a),sectionName:K&&m in K?K[m]:null,blocks:t.blocks,blockIndex:a,sectionMode:t.mode||null,nextPlaceIndexes:we,placeBeforeSection:null,distancesBetweenPlaces:q,defaultTravelMode:null!==(u=null==te?void 0:te.defaultTravelMode)&&void 0!==u?u:null}));o=l.createElement(i.df,{key:e.id,onChange:Pe(a),threshold:.5},d);break;case y.k.story:c=!1,o=l.createElement("div",{className:0===a?"BoardSectionView__firstStoryBlock":"BoardSectionView__storyBlock"},l.createElement(h.Z,{block:e}));break;case y.k.note:c=!0,o=l.createElement(g.Z,{block:e});break;case y.k.flight:c=!0,o=l.createElement(C.Z,{value:e,onSelect:xe(a),allowOnSelect:!0,editMode:Z.Gt.viewing,onViewAttachment:null,backgroundColor:"transparent",omitAdditionalInfo:!0,expense:null});break;case y.k.rentalCar:c=!0,o=l.createElement(S.Z,{value:e,onSelect:Ce(a),allowOnSelect:!0,editMode:Z.Gt.viewing,onViewAttachment:null,backgroundColor:"transparent",omitAdditionalInfo:!0,expense:null});break;case y.k.bus:case y.k.train:c=!0,o=l.createElement(P.Z,{value:e,onSelect:Ze(a),allowOnSelect:!0,editMode:Z.Gt.viewing,onViewAttachment:null,backgroundColor:"transparent",omitAdditionalInfo:!0,expense:null});break;case y.k.checklist:c=!0,o=l.createElement(M.Z,{value:e});break;case y.k.attachment:return null;default:return(0,D.C)((0,A.j)(e)),null}var f=Q.map((function(e){return function(e,t){switch(t.type){case"repeating":if(!(e>0&&e%t.showEveryNBlocks==0))return null;var n=Math.floor(e/t.showEveryNBlocks);return t.render(n);case"oneTime":return e===t.showAtIndex?t.element:null;case"betweenSections":return null;default:return(0,A.j)(t),null}}(a,e)})).filter(L.B);return l.createElement(l.Fragment,{key:e.id},f.map((function(e,t){return l.createElement("div",{className:"my-2",key:t},e)})),c&&!f.length&&l.createElement(w.Z,{isSelected:s,distanceDividerInfo:null}),l.createElement("div",{id:le(e)},o))})),Q.filter((function(e){return"betweenSections"===e.type})).map((function(e,t){return l.createElement("div",{className:"my-2",key:t},e.render(ee))})))))}));t.Z=U},381747:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(215671),a=n(143144),o=n(360136),l=n(182963),c=n(661120),i=n(667294),s=n(799745),u=n(60927),m=n(655179),d=n(771163);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var p=function(e){(0,o.Z)(n,e);var t=f(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props.block;return i.createElement("div",null,!(!e.title&&!e.place)&&i.createElement("div",{className:"mb-2"},i.createElement(s.Z,{title:e.title,place:e.place})),!(0,m.xb)(e.text)&&i.createElement("div",{className:"mb-2"},i.createElement(u.Z,{ops:e.text.ops})),i.createElement(d.Z,{images:e.images,title:e.title,place:e.place}))}}]),n}(i.PureComponent);p.displayName="BoardStoryBlock"},771163:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(215671),a=n(143144),o=n(360136),l=n(182963),c=n(661120),i=n(667294),s=n(130845),u=n(847680),m=n(799160),d=n(403887),f=n(822703),p=n(433109),v=n(821830),h=(n(686204),n(950250));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}function g(e){return Math.min(4,Math.max(3,Math.floor(e/200)))}var k=function(e){(0,o.Z)(n,e);var t=y(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={imagesPerRow:3,lightboxImageIndex:null},e.handleWidthChange=function(t){var n=e.state.imagesPerRow,r=g(t);n!==r&&e.setState({imagesPerRow:r})},e.getSortedImages=(0,s.Z)((function(e){return(0,m.o$)(e).filter((function(e){return e.imageKey}))})),e.sortedImages=function(){return e.getSortedImages(e.props.images)},e.getLightboxImages=(0,s.Z)((function(e,t,n){return e.map((function(e){return{src:(0,d.iO)({key:e.imageKey||"",size:"large"}),caption:(0,m.EO)({place:t,title:n})}}))})),e.lightboxImages=function(){return e.getLightboxImages(e.sortedImages(),e.props.place,e.props.title)},e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this,t=this.sortedImages(),n=this.state,r=n.imagesPerRow,a=n.lightboxImageIndex;return i.createElement(i.Fragment,null,i.createElement(f.Z,{onWidthChange:this.handleWidthChange},(function(n){return i.createElement("div",{className:"StoryImageGrid__container",ref:n},t.map((function(t,n){return t.featured&&i.createElement(v.Z,{key:t.id,src:(0,d.iO)({key:t.imageKey||"",size:"large"}),className:"StoryImageGrid__image StoryImageGrid__featured",aspectRatio:null,onClick:(0,u.IW)(e,"lightboxImageIndex",n),clickEvent:h.j.expandToLightbox})})),t.map((function(t,n){return!t.featured&&i.createElement(v.Z,{key:t.id,src:(0,d.iO)({key:t.imageKey||"",size:"small"}),className:"StoryImageGrid__image StoryImageGrid__".concat(r,"PerRow"),aspectRatio:"1-1",onClick:(0,u.IW)(e,"lightboxImageIndex",n),clickEvent:h.j.expandToLightbox})})))})),i.createElement(p.Z,{isOpen:null!=a,onClose:(0,u.IW)(this,"lightboxImageIndex",null),views:this.lightboxImages(),initialViewIndex:a||0}))}}]),n}(i.PureComponent);k.displayName="StoryImageGrid"},799745:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(215671),a=n(143144),o=n(360136),l=n(182963),c=n(661120),i=n(667294),s=n(842494),u=n(996684),m=n(799160);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var f=function(e){(0,o.Z)(n,e);var t=d(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.place,r=(0,m.EO)({title:t,place:n});return r?i.createElement("div",{className:"d-flex"},n&&i.createElement("span",{className:"mr-2"},i.createElement(u.Z,{icon:s.FG,size:"lg"})),i.createElement("strong",null,r)):null}}]),n}(i.PureComponent);f.displayName="TitleAndMarker"},904843:function(e,t,n){var r=n(487462),a=n(145987),o=n(667294),l=n(4868),c=n(862563),i=n(49059),s=n(173444),u=n(304678),m=n(597894),d=["sections","getDOMIdForSection","showStartPlanningPromo","onLoginAfterSaveClick"];function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=o.memo((function(e){var t=e.sections,n=e.getDOMIdForSection,p=e.showStartPlanningPromo,v=e.onLoginAfterSaveClick,h=(0,a.Z)(e,d),y=e.saveButtonDetails,g="togglePlaceButton"===y.type?y.existingSections:null,k=(0,m.dr)().datePreference,b=(0,u.uX)((function(){var e,t={},n=f(g||[]);try{for(n.s();!(e=n.n()).done;){var r,a=e.value,o=f(a.blocks);try{for(o.s();!(r=o.n()).done;){var l=r.value;"place"===l.type&&(t[l.place.placeId]=(0,c.eN)(a,{datePreference:k}))}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return t}),[k,g]),E=t&&1===t.length&&!t[0].heading&&!t[0].friendRecommendation,x=t.filter((function(e){return e.type!==l.bA.attachments})).map((function(e,t){return o.createElement("div",{key:e.id,className:"mb-4"},o.createElement(i.Z,(0,r.Z)({},h,{onLoginAfterSaveClick:v,section:e,placeIdSections:b,id:n(e.id),hideSectionHeaders:E,sectionIndex:t})))}));if(p){var C=t.findIndex((function(e){return e.type===l.bA.normal&&e.blocks.length}));-1!==C&&C<t.length-2&&x.splice(C+1,0,o.createElement(s.Z,{key:"StartPlanningPromo"}))}return o.createElement(o.Fragment,null,x)}));t.Z=v},827926:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(215671),a=n(143144),o=n(360136),l=n(182963),c=n(661120),i=n(667294),s=n(53725),u=n(275061),m=n(892512),d=n(950250),f=n(441503),p=(n(531918),n(416645));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var h=function(e){(0,o.Z)(n,e);var t=v(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.likeCount,n=e.commentCount,r=e.onLikedChange,a=e.liked,o=e.onScrollToComment;return i.createElement("div",{className:"d-flex align-items-center flex-nowrap"},i.createElement(f.Z,{icon:a||!r?m.m6:u.m6,label:0!==t?t:null,onClick:r,iconColor:a?p.Q6:void 0,screenReaderLabel:"Likes",clickEvent:d.j.likeTripPlan}),o&&i.createElement(f.Z,{icon:s.Eg,label:0!==n?n:null,screenReaderLabel:"Comments",onClick:o,clickEvent:d.j.clickCommentButton}))}}]),n}(i.PureComponent);h.displayName="TripPlanLikesAndComments"},854786:function(e,t,n){var r,a=n(115861),o=n(215671),l=n(143144),c=n(360136),i=n(182963),s=n(661120),u=n(667294),m=n(380955),d=n(337144),f=n(827926),p=n(297101),v=n(767131);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var y=(0,m.Pi)(r=function(e){(0,c.Z)(r,e);var t,n=h(r);function r(){var e;(0,o.Z)(this,r);for(var t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];return(e=n.call.apply(n,[this].concat(l))).handleLikeChange=(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r,a,o,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.likesStore,a=n.tripPlanKey,o=n.auth,l=o.user,c=o.showLoginModal,l){t.next=4;break}return t.next=4,c("register",{loginFormTo:"to like this guide"}).success;case 4:return t.next=6,r.toggleLike(a);case 6:case"end":return t.stop()}}),t)}))),e}return(0,l.Z)(r,[{key:"loadData",value:(t=(0,a.Z)(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.tripPlanKey,r=t.likesStore,a=t.commentsStore,e.next=3,Promise.all([r.loadData(n),a.loadComments(n)]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tripPlanKey;e.tripPlanKey!==t&&this.loadData()}},{key:"render",value:function(){var e=this.props,t=e.commentsStore,n=e.likesStore,r=e.onScrollToComment,a=n.data&&n.data.likeCount||0,o=n.data&&n.data.like||!1,l=(t.data||[]).filter((function(e){return!e.deletedAt})).length;return u.createElement(f.Z,{liked:o,likeCount:a,commentCount:l,onScrollToComment:r,onLikedChange:this.handleLikeChange})}}]),r}(u.PureComponent))||r;y.displayName="TripPlanLikesAndViewsUncontrolled",t.Z=(0,p.GM)((0,v.mP)((0,d.fm)(y)))},162177:function(e,t,n){var r=n(145987),a=n(667294),o=n(294184),l=n.n(o),c=n(655179),i=n(291843),s=n(4868),u=n(551651),m=n(904843),d=n(450146),f=n(403887),p=n(374107),v=n(503638),h=n(627801),y=n(556263),g=n(762808),k=n(467214),b=(n(223212),n(538865)),E=["title","tripPlanType","geoName","geoId","distinction","headerImageKey","transparentNavbar","isSidebarOpen","children","bodyContainerClassName","startDate","endDate","footer","headerImageOverlay"],x=a.memo((function(e){var t=e.title,n=e.tripPlanType,o=e.geoName,x=e.geoId,C=e.distinction,Z=e.headerImageKey,w=e.transparentNavbar,S=e.isSidebarOpen,P=e.children,N=e.bodyContainerClassName,I=e.startDate,O=e.endDate,R=e.footer,_=e.headerImageOverlay,T=(0,r.Z)(e,E),B=e.sections,M=(0,p.s_)(),A=Z&&(0,f.iO)({key:Z,size:"large"}),D=Z&&(0,f.iO)({key:Z,size:"medium"}),L=Z&&(0,f.iO)({key:Z,size:"small"}),j=C&&(0,u.D1)(C),F=(0,a.useMemo)((function(){return B.filter((function(e){return!(e.mode!==s.cd.guideDayPlan||!e.day||0===e.blocks.length&&(0,c.xb)(e.text))})).length}),[B]),U=(0,a.useMemo)((function(){return(0,d.UB)({geoName:o,geoId:x,days:F,verified:!!j})}),[o,x,F,j]),V=a.createElement(a.Fragment,null,n===b.u.story&&I&&O&&a.createElement("div",null,M({startDateInput:I,endDateInput:O,options:{alwaysIncludeYear:!0}})),n===b.u.recommendations&&a.createElement("div",{className:"mt-1"},a.createElement(v.Z,{categoryBadges:U,maxToShowInitially:null,showShowMore:!1,priceLevel:null})));return a.createElement(a.Fragment,null,A&&D&&L&&a.createElement("div",{className:"PlacesDocument__negativeOffset"},a.createElement(y.Z,{isSidebarOpen:S,outerClassName:"mw-100",noPadding:!0},w&&a.createElement(a.Fragment,null,a.createElement("div",{className:"PlacesDocument__navbarBackground"},a.createElement(h.Z,{xsAspectRatioClass:g.c1,smAspectRatioClass:g.Vq,mdAspectRatioClass:g.Oy,lgAspectRatioClass:g.Vm},a.createElement("div",{className:"PlacesDocument__scrim"}),a.createElement(i.Z,{src:A,className:"w-100 h-100 object-fit-cover"}))),a.createElement("div",{className:"PlacesDocument__navbarDarken"})),_||a.createElement(k.Z,{headerImage:A,headerImageMd:D,headerImageSm:L,title:t||null,verified:!!j,afterTitleContent:V,headerImageSizes:y.C}))),a.createElement(y.Z,{isSidebarOpen:S,className:N},!A&&!!t&&a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"mt-4"},a.createElement("span",{className:l()("PlacesDocument__title",{"pr-3":j,PlacesDocument__titleWithoutImage:!A})},t)),V,a.createElement("hr",null)),P,a.createElement(m.Z,T),R))}));t.Z=x},631106:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(215671),a=n(143144),o=n(360136),l=n(182963),c=n(661120),i=n(667294),s=n(188155),u=n(157957),m=n(556263);n(944026);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var f=function(e){(0,o.Z)(n,e);var t=d(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).getSectionsWithoutText=(0,s.m6)(),e.sectionsWithoutText=function(){return e.getSectionsWithoutText(e.props.sections,null)},e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.tripPlanType,n=e.isSidebarOpen,r=e.onScrollToSection;return i.createElement("div",{className:"PlanViewPageContentsButton ".concat(n?"PlanViewPageContentsButton__sidebarOpen":"")},i.createElement(m.Z,{isSidebarOpen:n,noPadding:!0},i.createElement("div",{className:"w-100"},i.createElement("div",{className:"PlanViewPageContentsButton__inner"},i.createElement(u.Z,{tripPlanType:t,sections:this.sectionsWithoutText(),onSectionClick:r})))))}}]),n}(i.PureComponent);f.displayName="PlanViewPageContentsButton"},84307:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(215671),a=n(143144),o=n(360136),l=n(182963),c=n(661120),i=n(667294),s=n(607371),u=n(548347),m=n(854786),d=n(441503),f=n(950250),p=n(61323),v=n(546922),h=n(190389),y=n(243042);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var k=function(e){(0,o.Z)(n,e);var t=g(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"handleScrollToCommentSection",value:function(){(0,h.X5)({to:"#".concat(y.X)})}},{key:"render",value:function(){var e=this.props,t=e.tripPlanKey,n=e.tripPlanUserId,r=e.tripPlanUserName,a=e.onShareClick,o=e.onEditClick;return i.createElement("div",{className:"d-flex align-items-center"},o&&i.createElement(v.ZP,{faIcon:s.Iw,label:"Edit",onClick:o,color:"light-brand",clickEvent:f.j.openEditView}),!o&&n&&i.createElement(p.Z,{followedUserId:n,followedUserName:r,onFollow:null,onUnfollow:null}),i.createElement(m.Z,{tripPlanKey:t,onScrollToComment:this.handleScrollToCommentSection}),i.createElement(d.Z,{icon:u.zB,label:null,onClick:a,tooltip:"Share",clickEvent:f.j.openShareModal}))}}]),n}(i.PureComponent);k.displayName="PlanViewTools"},173444:function(e,t,n){var r=n(487462),a=n(667294),o=n(294184),l=n.n(o),c=n(14966),i=n(291843),s=n(546922),u=n(950250),m=n(55977),d=(n(220715),n(538865)),f=n(834702),p=a.memo((function(e){var t=e.headingText,n=e.bodyText,o=e.ctaButtonLabel,p=e.ctaButtonEventProperties,v=e.learnMoreButtonEventProperties,h=e.lazy,y="2",g={className:"flex-grow-1 ml-".concat(y," mt-").concat(y),size:m.q.mdLg,target:"_blank"};return a.createElement("div",{className:l()("StartPlanningPromo p-4","d-flex flex-column align-items-center flex-sm-row-reverse align-items-sm-stretch")},!1!==h?a.createElement(c.Z,{className:"StartPlanningPromo__image flex-shrink-0",src:"/assets/StartPlanningPromo__diagram.png"}):a.createElement(i.Z,{className:"StartPlanningPromo__image flex-shrink-0",src:"/assets/StartPlanningPromo__diagram.png"}),a.createElement("div",{className:"d-flex flex-column justify-content-between mt-2 mt-sm-0 mr-sm-3"},a.createElement("div",{className:"color-primary-darkest"},a.createElement("div",{className:"font-weight-bold font-size-18"},t||"Plan a trip just like this one"),a.createElement("div",null,n||"Your itinerary and your map, in one view. Build, organize, and map out your next best trip.")),a.createElement("div",{className:"d-flex"},a.createElement("div",{className:"d-flex pt-2 ml-n".concat(y," mt-n").concat(y," flex-wrap")},a.createElement(s.ZP,(0,r.Z)({},g,{to:(0,f.i)({type:d.u.plan}),clickEvent:u.j.clickStartPlanningPromoButton,eventProperties:p,label:o||"Start planning a trip",color:"brand"})),a.createElement(s.ZP,(0,r.Z)({},g,{to:"/",clickEvent:u.j.clickLearnMoreStartPlanningPromo,eventProperties:v,label:"Learn more",color:"outline-brand"}))))))}));t.Z=p},15601:function(e,t,n){n.d(t,{J:function(){return r}});var r={type:"outsideTripPlanSaveButton"}},243042:function(e,t,n){n.d(t,{X:function(){return r}});var r="guideCommentSection"},545870:function(e,t,n){n.d(t,{b:function(){return c}});var r=n(730381),a=n.n(r),o=n(832241),l=n(302844);function c(e,t,n){var r=a().utc(e.depart.date,"YYYY-MM-DD"),c=(0,l.$)(r,{dateFormat:"ddd, MMM D",datePreference:n}),i=e.depart.time?(0,o.J)({time:e.depart.time,format:"h:mm A",utc:!0},t):null,s=e.arrive.time?(0,o.J)({time:e.arrive.time,format:"h:mm A",utc:!0},t):null,u=a().utc(e.arrive.date,"YYYY-MM-DD").diff(r,"days");return{departDateDisplay:e.depart.date?c:null,departTime:i,arriveTime:s,arriveDaysFuture:e.arrive.date&&e.depart.date?u:0}}},799160:function(e,t,n){n.d(t,{EO:function(){return l},o$:function(){return o}});var r=n(875472),a=n.n(r);n(112297);function o(e){return a()(e,(function(e){return e.featured?0:1}))}function l(e){return e.place?e.place.name:e.title}},401993:function(e,t,n){var r;function a(e){return e.level===r.main||!e.level}n.d(t,{l:function(){return a}}),function(e){e[e.main=0]="main",e[e.subsection=1]="subsection"}(r||(r={}))},297101:function(e,t,n){n.d(t,{GM:function(){return w}});var r,a,o,l=n(204942),c=n(115861),i=n(843269),s=n(143144),u=n(215671),m=n(497326),d=n(360136),f=n(182963),p=n(661120),v=n(753229),h=n(722188),y=n(79068),g=n(857271),k=n(787896);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var a=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var C=(r=function(e){(0,d.Z)(n,e);var t=x(n);function n(){var e;(0,u.Z)(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),(0,i.Z)(e,"loadData",a,(0,m.Z)(e)),(0,i.Z)(e,"toggleLike",o,(0,m.Z)(e)),e}return(0,s.Z)(n)}(g.Z),a=(0,v.Z)(r.prototype,"loadData",[h.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,c.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.load(n,(function(){return(0,y.nN)(n)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),o=(0,v.Z)(r.prototype,"toggleLike",[h.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,c.Z)(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!!e.store.data&&e.store.data.like,t.next=3,(0,y.AB)(n,!r);case 3:return a=t.sent,e.store.data&&(e.store.data=E(E({},e.store.data),{},{like:a,likeCount:e.store.data.like?e.store.data.likeCount+1:e.store.data.likeCount-1})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),r),Z=(0,k.m)("likesStore",C),w=Z.withStore;Z.useStore},781193:function(e,t,n){n.d(t,{l:function(){return o}});var r=n(597894),a=n(774756);function o(e){var t=(0,r.dr)(),n=t.timePreference,o=t.datePreference;return(0,a.U)((function(t){return e(t,n,o)}),[o,e,n])}},848177:function(){},904903:function(){},167321:function(){},977482:function(){},860435:function(){},913716:function(){},521960:function(){},372338:function(){},223212:function(){},693800:function(){},944026:function(){},210267:function(){},918882:function(){},220715:function(){},686204:function(){},865206:function(){},531918:function(){}}]);